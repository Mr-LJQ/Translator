{"version":3,"file":"optionsPage.js","mappings":"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A;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,GAAG;AACd,WAAW,UAAU;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,GAAG;AACd,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,eAAe;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,kBAAkB;AAClB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,sBAAsB;AACjC,aAAa,QAAQ;AACrB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC/8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,qBAAM,gBAAgB,qBAAM,IAAI,qBAAM,sBAAsB,qBAAM;;AAE1F;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,WAAW,OAAO;AAClB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,eAAe;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,sBAAsB;AACjC,aAAa,QAAQ;AACrB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,WAAW;AACX;AACA;AACA,6BAA6B;AAC7B,CAAC;;AAED;;;;;;;;;;;;;ACtfA;;;;;;;;;;;;ACAa;;AAEb,QAAQ,mBAAO,CAAC,4HAAW;AAC3B,IAAI,KAAqC,EAAE,EAG1C,CAAC;AACF;AACA,EAAE,kBAAkB;AACpB;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,EAAE,mBAAmB;AACrB;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,IAAI,IAAqC;AACzC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,mBAAO,CAAC,mGAAO;;AAErC;;AAEA;AACA;AACA;AACA,iGAAiG,eAAe;AAChH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;;;AAGN;AACA;AACA,KAAK,GAAG;;AAER,kDAAkD;AAClD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,KAAK;AACrD;;;AAGA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,kCAAkC;AAClC;AACA;;;AAGA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO;;;AAGP;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;AC9OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,IAAI,IAAqC;AACzC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,mBAAO,CAAC,mGAAO;AACrC,WAAW,mBAAO,CAAC,+KAA8B;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,yCAAyC;;AAEzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA,kDAAkD;AAClD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;;AAGP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACpKa;;AAEb,IAAI,KAAqC,EAAE,EAE1C,CAAC;AACF,EAAE,6QAA8E;AAChF;;;;;;;;;;;;ACNa;;AAEb,IAAI,KAAqC,EAAE,EAE1C,CAAC;AACF,EAAE,ySAA4F;AAC9F;;;;;;;;;;;;;;;;;;;;;;ACNmD;AACnB;AACyB;AACnB;AACkD;;AAExF,QAAQ,mCAAmC,EAAE,0EAA2B;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,oDAAa;AACf;AACA;AACA;AACA,kDAAkD,2DAAoB;AACtE;AACA;AACA;AACA;AACA;AACA;;AAEyC;;;;;;;;;;;;;;;;;AC3BT;;AAEhC;AACA;AACA,sDAAsD,8CAAO;AAC7D;AACA;AACA;AACA;AACA;;AAEiB;;;;;;;;;;;;;;;;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","sources":["webpack://translator-extensions/./src/anki/AnkiConnection.ts","webpack://translator-extensions/./src/anki/index.ts","webpack://translator-extensions/./src/anki/types/index.ts","webpack://translator-extensions/./src/anki/utils/createAnkiResponse.ts","webpack://translator-extensions/./src/anki/utils/helper.ts","webpack://translator-extensions/./src/anki/utils/index.ts","webpack://translator-extensions/./src/configuration/command.ts","webpack://translator-extensions/./src/configuration/index.ts","webpack://translator-extensions/./src/configuration/modelFieldNameMap.ts","webpack://translator-extensions/./src/extensions-api/browserAction.ts","webpack://translator-extensions/./src/extensions-api/commands.ts","webpack://translator-extensions/./src/extensions-api/contextMenus.ts","webpack://translator-extensions/./src/extensions-api/index.ts","webpack://translator-extensions/./src/extensions-api/runtime.ts","webpack://translator-extensions/./src/extensions-api/storage.ts","webpack://translator-extensions/./src/extensions-api/tabs.ts","webpack://translator-extensions/./src/extensions-api/types/index.ts","webpack://translator-extensions/./src/options-page/components/AnkiConfig.tsx","webpack://translator-extensions/./src/options-page/components/BasisConfig.tsx","webpack://translator-extensions/./src/options-page/components/ConfigTabs.tsx","webpack://translator-extensions/./src/options-page/components/Footer.tsx","webpack://translator-extensions/./src/options-page/components/OptionsPage.tsx","webpack://translator-extensions/./src/options-page/components/SelectItem.tsx","webpack://translator-extensions/./src/options-page/components/TagsItem.tsx","webpack://translator-extensions/./src/options-page/index.tsx","webpack://translator-extensions/./src/options-page/pure-components/Button.tsx","webpack://translator-extensions/./src/options-page/pure-components/Fieldset.tsx","webpack://translator-extensions/./src/options-page/pure-components/H3.tsx","webpack://translator-extensions/./src/options-page/pure-components/Input.tsx","webpack://translator-extensions/./src/options-page/pure-components/Label.tsx","webpack://translator-extensions/./src/options-page/pure-components/Select.tsx","webpack://translator-extensions/./src/options-page/pure-components/index.ts","webpack://translator-extensions/./src/options-page/stores/ankiStore.ts","webpack://translator-extensions/./src/options-page/stores/index.ts","webpack://translator-extensions/./src/options-page/stores/storageStore.ts","webpack://translator-extensions/./src/options-page/types/index.ts","webpack://translator-extensions/./src/options-page/utils/index.ts","webpack://translator-extensions/./src/translation-page/components/Loading.tsx","webpack://translator-extensions/./src/translation-page/index.ts","webpack://translator-extensions/./src/utils/Messenger.ts","webpack://translator-extensions/./src/utils/alert.ts","webpack://translator-extensions/./src/utils/index.ts","webpack://translator-extensions/./src/utils/validateText.ts","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+lodash.omit@4.5.0/node_modules/lodash.omit/index.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+lodash.pick@4.4.0/node_modules/lodash.pick/index.js","webpack://translator-extensions/./src/index.css?bcd7","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+react-dom@18.2.0_react@18.2.0/node_modules/react-dom/client.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+use-sync-external-store@1.2.0_react@18.2.0/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.development.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+use-sync-external-store@1.2.0_react@18.2.0/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.development.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+use-sync-external-store@1.2.0_react@18.2.0/node_modules/use-sync-external-store/shim/index.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+use-sync-external-store@1.2.0_react@18.2.0/node_modules/use-sync-external-store/shim/with-selector.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+zustand@4.1.1_immer@9.0.15+react@18.2.0/node_modules/zustand/esm/index.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+zustand@4.1.1_immer@9.0.15+react@18.2.0/node_modules/zustand/esm/middleware/immer.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+zustand@4.1.1_immer@9.0.15+react@18.2.0/node_modules/zustand/esm/vanilla.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+@headlessui+react@1.6.6_biqbaboplfbrettd7655fr4n2y/node_modules/@headlessui/react/dist/components/keyboard.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+@headlessui+react@1.6.6_biqbaboplfbrettd7655fr4n2y/node_modules/@headlessui/react/dist/components/tabs/tabs.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+@headlessui+react@1.6.6_biqbaboplfbrettd7655fr4n2y/node_modules/@headlessui/react/dist/hooks/use-event.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+@headlessui+react@1.6.6_biqbaboplfbrettd7655fr4n2y/node_modules/@headlessui/react/dist/hooks/use-id.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+@headlessui+react@1.6.6_biqbaboplfbrettd7655fr4n2y/node_modules/@headlessui/react/dist/hooks/use-iso-morphic-effect.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+@headlessui+react@1.6.6_biqbaboplfbrettd7655fr4n2y/node_modules/@headlessui/react/dist/hooks/use-latest-value.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+@headlessui+react@1.6.6_biqbaboplfbrettd7655fr4n2y/node_modules/@headlessui/react/dist/hooks/use-resolve-button-type.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+@headlessui+react@1.6.6_biqbaboplfbrettd7655fr4n2y/node_modules/@headlessui/react/dist/hooks/use-server-handoff-complete.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+@headlessui+react@1.6.6_biqbaboplfbrettd7655fr4n2y/node_modules/@headlessui/react/dist/hooks/use-sync-refs.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+@headlessui+react@1.6.6_biqbaboplfbrettd7655fr4n2y/node_modules/@headlessui/react/dist/internal/focus-sentinel.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+@headlessui+react@1.6.6_biqbaboplfbrettd7655fr4n2y/node_modules/@headlessui/react/dist/internal/hidden.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+@headlessui+react@1.6.6_biqbaboplfbrettd7655fr4n2y/node_modules/@headlessui/react/dist/utils/focus-management.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+@headlessui+react@1.6.6_biqbaboplfbrettd7655fr4n2y/node_modules/@headlessui/react/dist/utils/match.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+@headlessui+react@1.6.6_biqbaboplfbrettd7655fr4n2y/node_modules/@headlessui/react/dist/utils/owner.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+@headlessui+react@1.6.6_biqbaboplfbrettd7655fr4n2y/node_modules/@headlessui/react/dist/utils/render.js","webpack://translator-extensions/./node_modules/.pnpm/registry.npmmirror.com+immer@9.0.15/node_modules/immer/dist/immer.esm.mjs"],"sourcesContent":["/**\r\n * 这是用于调用 AnkiConnection 提供的接口的封装\r\n */\r\nimport omit from \"lodash.omit\";\r\nimport { getStorageByArray, onStorageChange } from \"@/extensions-api\";\r\nimport { extractPromiseType } from \"@/types\";\r\nimport {\r\n  isAnkiResponse,\r\n  createDuplicateResponse,\r\n  createForgottenResponse,\r\n  createAnkiErrorResponse,\r\n  createOldVersionResponse,\r\n  createSuccessAnkiResponse,\r\n  createConfigErrorResponse,\r\n  createDisconnectionResponse,\r\n  createFirstAddSuccessResponse,\r\n  createUnexpectedErrorResponse,\r\n  getConfigName,\r\n  getMediaFields,\r\n  getNotMediaFields,\r\n  getDuplicateConfigName,\r\n} from \"./utils\";\r\n//声明\r\nimport { Storage } from \"@/extensions-api\";\r\nimport { NoteData } from \"@/translation-page\";\r\nimport { AnkiResponse, NoteType, AddNoteParams } from \"./types\";\r\n\r\n//值必须是小写，且必须是这个值，不应该修改，这是AnkiConnection所要求的\r\nenum Action {\r\n  Version = \"version\",\r\n  AddNote = \"addNote\",\r\n  FindCards = \"findCards\",\r\n  DeckNames = \"deckNames\",\r\n  ModelNames = \"modelNames\",\r\n  RelearnCards = \"relearnCards\",\r\n  ModelFieldNames = \"modelFieldNames\",\r\n  UpdateNoteFields = \"updateNoteFields\",\r\n}\r\n\r\ntype AnkiConfig = Pick<\r\n  Storage,\r\n  | \"wordConfig\"\r\n  | \"phraseConfig\"\r\n  | \"sentenceConfig\"\r\n  | \"ankiConnectionURL\"\r\n  | \"checkWordDuplicate\"\r\n  | \"checkPhraseDuplicate\"\r\n  | \"checkSentenceDuplicate\"\r\n>;\r\n\r\ntype ReturnPromiseType<T extends (...args: any[]) => Promise<any>> = T extends (\r\n  ...args: any[]\r\n) => Promise<infer R>\r\n  ? R\r\n  : never;\r\n\r\ntype flatAnkiResponse<T extends (...args: any[]) => Promise<any>> =\r\n  ReturnPromiseType<T> extends AnkiResponse<any>\r\n    ? Promise<ReturnPromiseType<T>>\r\n    : Promise<AnkiResponse<ReturnPromiseType<T>>>;\r\n\r\nexport class AnkiConnection {\r\n  version: number;\r\n  ankiConfig: AnkiConfig;\r\n\r\n  addNote;\r\n  getVersion;\r\n  getDeckNames;\r\n  relearnCards;\r\n  getModelNames;\r\n  getModelFieldNames;\r\n\r\n  constructor() {\r\n    this.version = 6; //版本不同，返回值不同，不能够随意修改\r\n    this.ankiConfig = {} as AnkiConfig; //后面会进行初始化赋值\r\n\r\n    //初始化AnkiConfig\r\n    //值是必定存在的，因为 getStorage 内部会保证在没值的时候使用默认值，而默认值设定了相应的值\r\n    getStorageByArray(\r\n      [\r\n        \"wordConfig\",\r\n        \"phraseConfig\",\r\n        \"sentenceConfig\",\r\n        \"ankiConnectionURL\",\r\n        \"checkWordDuplicate\",\r\n        \"checkPhraseDuplicate\",\r\n        \"checkSentenceDuplicate\",\r\n      ],\r\n      (config) => {\r\n        this.updateAnkiConfig<AnkiConfig>(config as AnkiConfig); //初始化时，必须包括所有的 AnkiConfig 配置\r\n      }\r\n    );\r\n    //监听用户配置更新\r\n    onStorageChange({\r\n      wordConfig: (_, wordConfig) => this.updateAnkiConfig({ wordConfig }),\r\n      phraseConfig: (_, phraseConfig) =>\r\n        this.updateAnkiConfig({ phraseConfig }),\r\n      sentenceConfig: (_, sentenceConfig) =>\r\n        this.updateAnkiConfig({ sentenceConfig }),\r\n      ankiConnectionURL: (_, ankiConnectionURL) =>\r\n        this.updateAnkiConfig({ ankiConnectionURL }),\r\n      checkPhraseDuplicate: (_, checkPhraseDuplicate) =>\r\n        this.updateAnkiConfig({ checkPhraseDuplicate }),\r\n      checkSentenceDuplicate: (_, checkSentenceDuplicate) =>\r\n        this.updateAnkiConfig({ checkSentenceDuplicate }),\r\n      checkWordDuplicate: (_, checkWordDuplicate) =>\r\n        this.updateAnkiConfig({ checkWordDuplicate }),\r\n    });\r\n\r\n    this.addNote = this._addErrorCatch(this._addNote);\r\n    this.getVersion = this._addErrorCatch(this._getVersion);\r\n    this.getDeckNames = this._addErrorCatch(this._getDeckNames);\r\n    this.relearnCards = this._addErrorCatch(this._relearnCards);\r\n    this.getModelNames = this._addErrorCatch(this._getModelNames);\r\n    this.getModelFieldNames = this._addErrorCatch(this._getModelFieldNames);\r\n  }\r\n\r\n  private _addErrorCatch<T extends (...args: any[]) => Promise<any>>(\r\n    executor: T\r\n  ): (...args: Parameters<T>) => flatAnkiResponse<T> {\r\n    return async (...args: Parameters<T>) => {\r\n      try {\r\n        /**\r\n         * result 有两种情况：\r\n         *  第一种，返回的是AnkiResponse，那么不需要再次包装，直接返回\r\n         *  第二种，返回的不是AnkiResponse,而是一个正常值，则需要包装后返回\r\n         * 这是为了保证，返回的都是AnkiResponse.\r\n         */\r\n        const result = await executor.apply(this, args);\r\n        if (isAnkiResponse(result)) return result;\r\n        return createSuccessAnkiResponse(result);\r\n      } catch (e) {\r\n        if (isAnkiResponse(e)) return e;\r\n        if (__DEV__) {\r\n          console.error(e);\r\n        }\r\n        if (typeof e === \"string\" || e instanceof Error) {\r\n          return createUnexpectedErrorResponse(e);\r\n        }\r\n        return createUnexpectedErrorResponse(\r\n          \"这是一个出乎该插件开发者预料的错误,如需解决请提交该问题\"\r\n        );\r\n      }\r\n    };\r\n  }\r\n\r\n  updateAnkiConfig<T extends Partial<AnkiConfig>>(config: T) {\r\n    this.ankiConfig = { ...this.ankiConfig, ...config };\r\n  }\r\n\r\n  private async _addNote(data: NoteData) {\r\n    let type = null;\r\n    if (\"word\" in data) type = NoteType.Word;\r\n    if (\"phrase\" in data) type = NoteType.Phrase;\r\n    if (\"sentence\" in data) type = NoteType.Sentence;\r\n    //await是必须的\r\n    await this._testSecurity(type!);\r\n    const note: AddNoteParams = this._formatData(type!, data);\r\n    const result = await this._handleDuplicate(type!, data, note);\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * 确保deckName、modelName、fieldNames等是存在的\r\n   */\r\n  private async _testSecurity(type: NoteType) {\r\n    const configName = getConfigName(type);\r\n    const config = this.ankiConfig[configName];\r\n    //检查 deckName 是否为空\r\n    const deckName = config.deckName;\r\n    const deckNames = await this._getDeckNames();\r\n    if (deckName == null || !deckNames.includes(deckName)) {\r\n      throw createConfigErrorResponse();\r\n    }\r\n    //检查 modelName 是否为空\r\n    const modelName = config.modelName;\r\n    const modelNames = await this._getModelNames();\r\n    if (modelName == null || !modelNames.includes(modelName)) {\r\n      throw createConfigErrorResponse();\r\n    }\r\n    //检查 fields 是否正确（在Anki上该值是否存在）\r\n    const modelFieldNames = await this._getModelFieldNames(modelName);\r\n    const fieldNames = Object.values(\r\n      omit(config, [\"deckName\", \"modelName\", \"tags\"])\r\n    );\r\n\r\n    //检查用户是否配置了任何一个fieldName，fieldNames不能够都没有配置\r\n    const isEmpty = fieldNames.every((val) => val == null || val === \"\");\r\n    if (isEmpty) {\r\n      throw createConfigErrorResponse();\r\n    }\r\n\r\n    const includesAll = fieldNames.every((val) => {\r\n      if (val == null || val === \"\") return true;\r\n      return modelFieldNames.includes(val as string);\r\n    });\r\n    if (!includesAll) {\r\n      throw createConfigErrorResponse();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 处理卡片重复添加的逻辑\r\n   */\r\n  private async _handleDuplicate(\r\n    type: NoteType,\r\n    data: NoteData,\r\n    note: AddNoteParams\r\n  ) {\r\n    const configName = getConfigName(type);\r\n    const duplicateConfigName = getDuplicateConfigName(type);\r\n    const config = this.ankiConfig[configName];\r\n    const duplicateConfig = this.ankiConfig[duplicateConfigName];\r\n    //改写Anki内置的重复判断逻辑，将控制权交给用户\r\n    const query = Object.entries(duplicateConfig).reduce(\r\n      (query, [key, val]) => {\r\n        //检查deck\r\n        if (key === \"deckName\") {\r\n          return query + val ? ` deck:${config[key]}` : \"\";\r\n        }\r\n        //检查 model\r\n        if (key === \"modelName\") {\r\n          return query + val ? ` note:${config[key]}` : \"\";\r\n        }\r\n        //val为falsy则表示其不是用于查重的字段\r\n        if (!val) return query;\r\n        //@ts-ignore,由于Object.entries不能够很好的推断类型，所以导致该问题\r\n        const fieldName = config[key];\r\n        //@ts-ignore,由于Object.entries不能够很好的推断类型，所以导致该问题\r\n        const content = data[key];\r\n        if (!fieldName || !content) return query;\r\n        //注意前方的空格，其是必须的\r\n        query += ` \"${content}\"`;\r\n        return query;\r\n      },\r\n      \"\"\r\n    );\r\n\r\n    // - cardIds没有值，此时逻辑应该为:再次添加卡片，添加方式为允许重复。\r\n    // - cardIds有一个值，此时逻辑应该为:立刻开始学习\r\n    // - cardIds有多个值，此时逻辑应该为:报错，返回查询字符串，让用户到Anki中查看重复。\r\n    const cardIds = await this._findCards(query);\r\n    const { length } = cardIds;\r\n    switch (length) {\r\n      case 0: {\r\n        //卡片不存在，作为新卡片添加\r\n        const cardId = await this._request(Action.AddNote, { note });\r\n        return createFirstAddSuccessResponse([cardId]);\r\n      }\r\n      case 1: //卡片已添加，是否立刻复习/学习\r\n        return createForgottenResponse(cardIds);\r\n      default: //卡片重复添加\r\n        return createDuplicateResponse(cardIds);\r\n    }\r\n  }\r\n\r\n  private async _findCards(query: string): Promise<number[]> {\r\n    return this._request(Action.FindCards, {\r\n      query,\r\n    });\r\n  }\r\n\r\n  private async _relearnCards(cards: number[]) {\r\n    //await是必须的\r\n    await this._request(Action.RelearnCards, { cards });\r\n    return cards;\r\n  }\r\n\r\n  private async _getModelNames() {\r\n    const result = await this._request(Action.ModelNames);\r\n    return result;\r\n  }\r\n\r\n  private async _getDeckNames() {\r\n    const result = await this._request(Action.DeckNames);\r\n    return result;\r\n  }\r\n\r\n  private async _getModelFieldNames(modelName: string) {\r\n    const result = await this._request(Action.ModelFieldNames, { modelName });\r\n    return result;\r\n  }\r\n\r\n  private async _getVersion() {\r\n    const result = await this._request(Action.Version);\r\n    //更新 version\r\n    this.version = result;\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * 将数据格式化为Anki所要求的格式\r\n   */\r\n  private _formatData(type: NoteType, data: NoteData): AddNoteParams {\r\n    const configName = getConfigName(type);\r\n    const config = this.ankiConfig[configName];\r\n    const { deckName, modelName, tags, ...modelFieldNames } = config;\r\n\r\n    const audio = getMediaFields(type, data, modelFieldNames);\r\n    const fields = getNotMediaFields(type, data, modelFieldNames);\r\n    return {\r\n      deckName: deckName!, //在调用该函数前已经调用 testSecurity 进行非空检查\r\n      modelName: modelName!, //在调用该函数前已经调用 testSecurity 进行非空检查\r\n      fields,\r\n      audio,\r\n      tags: (tags && tags.trim().split(/\\s+/g)) || [],\r\n      options: {\r\n        allowDuplicate: true, //重复判断逻辑已经重写，所以这里恒定true，避免被原有逻辑影响到\r\n        duplicateScope: \"deck\",\r\n        duplicateScopeOptions: {\r\n          deckName: deckName!, //在调用该函数前已经调用 testSecurity 进行非空检查\r\n          checkChildren: false,\r\n          checkAllModels: false,\r\n        },\r\n      },\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 向Anki发送请求的函数\r\n   * @param action 具体请求动作，类似 http 中的 method\r\n   * @param params 请求所携带的参数\r\n   */\r\n  private async _request(action: Action.DeckNames): Promise<string[]>;\r\n  private async _request(action: Action.ModelNames): Promise<string[]>;\r\n  private async _request(action: Action.Version): Promise<number>;\r\n  private async _request(\r\n    action: Action.FindCards,\r\n    params: { query: string }\r\n  ): Promise<number[]>;\r\n  private async _request(\r\n    action: Action.ModelFieldNames,\r\n    params: { modelName: string }\r\n  ): Promise<string[]>;\r\n  private async _request(\r\n    action: Action.AddNote,\r\n    params: { note: AddNoteParams }\r\n  ): Promise<number>;\r\n  private async _request(\r\n    action: Action.RelearnCards,\r\n    params: { cards: number[] }\r\n  ): Promise<null>;\r\n  private async _request(\r\n    action: Action,\r\n    params: { [key: string]: any } = {}\r\n  ): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      const { version } = this;\r\n      const { ankiConnectionURL } = this.ankiConfig;\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.addEventListener(\"error\", () =>\r\n        reject(\r\n          createDisconnectionResponse(\r\n            `无法通过URL: ${ankiConnectionURL} 连接到Anki，可通过检查：\\n\\t- Anki是否打开\\n\\t- AnkiConnection插件是否安装\\n\\t- 目标URL是否正确配置来排查该问题`\r\n          )\r\n        )\r\n      );\r\n      xhr.addEventListener(\"load\", () => {\r\n        try {\r\n          const response = JSON.parse(xhr.responseText);\r\n          if (\r\n            Object.getOwnPropertyNames(response).length != 2 ||\r\n            !Object.prototype.hasOwnProperty.call(response, \"result\") ||\r\n            !Object.prototype.hasOwnProperty.call(response, \"error\")\r\n          ) {\r\n            throw createOldVersionResponse();\r\n          }\r\n          if (response.error) {\r\n            throw createAnkiErrorResponse(response.error);\r\n          }\r\n          resolve(response.result);\r\n        } catch (e) {\r\n          reject(e);\r\n        }\r\n      });\r\n\r\n      xhr.open(\"POST\", ankiConnectionURL);\r\n      xhr.send(JSON.stringify({ action, version, params }));\r\n    });\r\n  }\r\n}\r\n\r\nexport type GetVersionReturnType = extractPromiseType<\r\n  ReturnType<AnkiConnection[\"getVersion\"]>\r\n>;\r\nexport type GetDeckNamesReturnType = extractPromiseType<\r\n  ReturnType<AnkiConnection[\"getDeckNames\"]>\r\n>;\r\nexport type GetModelFieldNamesReturnType = extractPromiseType<\r\n  ReturnType<AnkiConnection[\"getModelFieldNames\"]>\r\n>;\r\nexport type GetModelNamesReturnType = extractPromiseType<\r\n  ReturnType<AnkiConnection[\"getModelNames\"]>\r\n>;\r\nexport type AddNoteReturnType = extractPromiseType<\r\n  ReturnType<AnkiConnection[\"addNote\"]>\r\n>;\r\nexport type RelearnCardsReturnType = extractPromiseType<\r\n  ReturnType<AnkiConnection[\"relearnCards\"]>\r\n>;\r\n","export { AnkiConnection } from \"./AnkiConnection\";\r\nexport type {\r\n  AddNoteReturnType,\r\n  GetVersionReturnType,\r\n  GetDeckNamesReturnType,\r\n  RelearnCardsReturnType,\r\n  GetModelNamesReturnType,\r\n  GetModelFieldNamesReturnType,\r\n} from \"./AnkiConnection\";\r\nexport { AnkiResponseStatus } from \"./types\";\r\n","export const enum NoteType {\r\n  Word = 0,\r\n  Phrase = 1,\r\n  Sentence = 2,\r\n}\r\n\r\nexport interface AddNoteParams {\r\n  deckName: string;\r\n  modelName: string;\r\n  fields: {\r\n    [key: string]: string;\r\n  };\r\n  options: {\r\n    allowDuplicate: boolean;\r\n    duplicateScope: \"deck\";\r\n    duplicateScopeOptions: {\r\n      deckName: string;\r\n      checkChildren: boolean;\r\n      checkAllModels: boolean;\r\n    };\r\n  };\r\n  tags?: string[];\r\n  audio?: MediaField;\r\n  video?: MediaField;\r\n  picture?: MediaField;\r\n}\r\n\r\nexport type MediaField = Array<{\r\n  url: string;\r\n  filename: string;\r\n  skipHash?: string;\r\n  fields: string[];\r\n}>;\r\n\r\nexport enum AnkiResponseStatus {\r\n  Error,\r\n  Success,\r\n  Forgotten,\r\n  Duplicate,\r\n  Disconnect,\r\n  OldVersion,\r\n  ConfigError,\r\n  FirstAddSuccess,\r\n  UnexpectedError,\r\n}\r\n\r\nexport interface AnkiResponse<T> {\r\n  data?: T;\r\n  message: string;\r\n  status: AnkiResponseStatus;\r\n}\r\n","import { COMMON_CONFIG_MAP } from \"@/configuration\";\r\nimport { AnkiResponseStatus, AnkiResponse } from \"../types\";\r\n\r\nfunction createAnkiResponse<T>(options: AnkiResponse<T>): AnkiResponse<T> {\r\n  return Object.assign(\r\n    {\r\n      __isAnkiResponse__: true,\r\n    },\r\n    options\r\n  );\r\n}\r\n\r\nexport function isAnkiResponse(target: any) {\r\n  if (target === null || typeof target !== \"object\") return false;\r\n  return target.__isAnkiResponse__ === true;\r\n}\r\n\r\nexport function createSuccessAnkiResponse<T>(data: T) {\r\n  return createAnkiResponse({\r\n    data,\r\n    message: \"ok\",\r\n    status: AnkiResponseStatus.Success,\r\n  });\r\n}\r\n\r\nexport function createDisconnectionResponse(message: string) {\r\n  return createAnkiResponse({\r\n    status: AnkiResponseStatus.Disconnect,\r\n    message,\r\n  });\r\n}\r\nexport function createForgottenResponse(cardIds: number[]) {\r\n  return createAnkiResponse({\r\n    data: cardIds,\r\n    status: AnkiResponseStatus.Forgotten,\r\n    message: \"曾经添加过该卡片，是否做遗忘处理？(立刻将其添加到学习列表中)\",\r\n  });\r\n}\r\n\r\nexport function createDuplicateResponse(cardIds: number[]) {\r\n  return createAnkiResponse({\r\n    data: cardIds,\r\n    status: AnkiResponseStatus.Duplicate,\r\n    message:\r\n      \"该卡片出现重复项，请自行在Anki上处理重复项，单击复制重复卡片的ID，以在Anki Browser上快速定位。\",\r\n  });\r\n}\r\n\r\nexport function createFirstAddSuccessResponse(cardIds: number[]) {\r\n  return createAnkiResponse({\r\n    data: cardIds,\r\n    status: AnkiResponseStatus.FirstAddSuccess,\r\n    message:\"已成功添加到Anki，是否需要立刻开始学习？(用于在待学习列表很长的时候，使其无需等待，立刻开始学习)\",\r\n  });\r\n}\r\n\r\nexport function createConfigErrorResponse() {\r\n  return createAnkiResponse({\r\n    status: AnkiResponseStatus.ConfigError,\r\n    message: `存在配置错误，是否打开配置页面设置配置？可能是一下问题之一导致该错误：\\n\\t- ${COMMON_CONFIG_MAP.deckName},未配置\\n\\t- ${COMMON_CONFIG_MAP.modelName},未配置\\n\\t- 没有配置任何一个 model field 项\\n\\t- 配置的某个 model field 项与 Anki 上的不匹配，请刷新后重新配置`,\r\n  });\r\n}\r\n\r\nexport function createOldVersionResponse() {\r\n  return createAnkiResponse({\r\n    status: AnkiResponseStatus.OldVersion,\r\n    message: \"AnkiConnection版本过低，请更新到最新版本。\",\r\n  });\r\n}\r\n\r\nexport function createAnkiErrorResponse(message: string) {\r\n  return createAnkiResponse({\r\n    status: AnkiResponseStatus.Error,\r\n    message,\r\n  });\r\n}\r\n\r\nexport function createUnexpectedErrorResponse(e: Error | string) {\r\n  return createAnkiResponse({\r\n    status: AnkiResponseStatus.UnexpectedError,\r\n    message: typeof e === \"string\" ? e : e.message,\r\n  });\r\n}\r\n","import {\r\n  WordFields,\r\n  ModelFields,\r\n  PhraseFields,\r\n  SentenceFields,\r\n} from \"@/extensions-api\";\r\nimport { NoteData } from \"@/translation-page\";\r\nimport { MediaField, NoteType } from \"../types\";\r\n\r\n/**\r\n * 纯函数\r\n */\r\nexport function getConfigName(type: NoteType) {\r\n  const configNames = {\r\n    [NoteType.Word]: \"wordConfig\",\r\n    [NoteType.Phrase]: \"phraseConfig\",\r\n    [NoteType.Sentence]: \"sentenceConfig\",\r\n  } as const;\r\n  return configNames[type];\r\n}\r\n/**\r\n * 纯函数\r\n */\r\nexport function getDuplicateConfigName(type: NoteType) {\r\n  const configNames = {\r\n    [NoteType.Word]: \"checkWordDuplicate\",\r\n    [NoteType.Phrase]: \"checkPhraseDuplicate\",\r\n    [NoteType.Sentence]: \"checkSentenceDuplicate\",\r\n  } as const;\r\n  return configNames[type];\r\n}\r\n\r\n/**\r\n * 纯函数，获取特定类型的代表音频媒体的 key 的集合\r\n */\r\nfunction getMediaNames(type: NoteType) {\r\n  const wordMedias: Array<keyof WordFields> = [\r\n    \"am_audio\",\r\n    \"en_audio\",\r\n    \"example_audio\",\r\n    \"definition_audio\",\r\n  ];\r\n  const phraseMedias: Array<keyof PhraseFields> = [\r\n    \"phrase_audio\",\r\n    \"example_audio_1\",\r\n    \"example_audio_2\",\r\n    \"example_audio_3\",\r\n  ];\r\n  const sentenceMedias: Array<keyof SentenceFields> = [\"sentence_audio\"];\r\n  const mediaNames = {\r\n    [NoteType.Word]: wordMedias,\r\n    [NoteType.Phrase]: phraseMedias,\r\n    [NoteType.Sentence]: sentenceMedias,\r\n  }[type];\r\n  return mediaNames;\r\n}\r\n\r\n/**\r\n * 纯函数，获取媒体部分的域\r\n */\r\nexport function getMediaFields(\r\n  type: NoteType,\r\n  data: NoteData,\r\n  modelFieldsMap: ModelFields\r\n): MediaField {\r\n  const mediaNames = getMediaNames(type);\r\n  return Object.entries(modelFieldsMap).reduce((audio, [key, field]) => {\r\n    //@ts-ignore 是能够正确匹配的\r\n    if (!mediaNames.includes(key)) return audio;\r\n    //@ts-ignore 是能够正确匹配的\r\n    const url = data[key];\r\n    if (!url || !field) return audio;\r\n    audio.push({\r\n      url,\r\n      fields: [field],\r\n      filename: `${encodeURIComponent(url)}.mp3`,\r\n    });\r\n    return audio;\r\n  }, [] as MediaField);\r\n}\r\n\r\n/**\r\n * 纯函数，获取非媒体部分的域\r\n */\r\nexport function getNotMediaFields(\r\n  type: NoteType,\r\n  data: NoteData,\r\n  modelFieldsMap: ModelFields\r\n): {\r\n  [key: string]: string;\r\n} {\r\n  const mediaNames = getMediaNames(type);\r\n  return Object.entries(modelFieldsMap).reduce(\r\n    (fields, [key, fieldKey]) => {\r\n      //@ts-ignore 是可以正确匹配的\r\n      if (mediaNames.includes(key)) return fields;\r\n      //@ts-ignore 是可以正确匹配的\r\n      const fieldValue = data[key];\r\n      if (!fieldKey || !fieldValue) return fields;\r\n      fields[fieldKey] = fieldValue;\r\n      return fields;\r\n    },\r\n    {} as {\r\n      [key: string]: string;\r\n    }\r\n  );\r\n}\r\n","export {\r\n  isAnkiResponse,\r\n  createForgottenResponse,\r\n  createDuplicateResponse,\r\n  createAnkiErrorResponse,\r\n  createOldVersionResponse,\r\n  createSuccessAnkiResponse,\r\n  createConfigErrorResponse,\r\n  createDisconnectionResponse,\r\n  createFirstAddSuccessResponse,\r\n  createUnexpectedErrorResponse,\r\n} from \"./createAnkiResponse\";\r\n\r\nexport {\r\n  getConfigName,\r\n  getMediaFields,\r\n  getNotMediaFields,\r\n  getDuplicateConfigName,\r\n} from \"./helper\";\r\n","export enum Command {\r\n  AddNote,\r\n  UpdateNote,\r\n  RelearnNote,\r\n  HistoryIndex,\r\n  TranslateText,\r\n\r\n  PauseAudio,\r\n  ShowTranslation,\r\n  OpenSelection,\r\n  HiddenChinese,\r\n  BackHistory,\r\n  ForwardHistory,\r\n  Callback,\r\n  OpenSearchBox,\r\n  ShowInjectTranslation,\r\n  ShowIframe,\r\n\r\n  GetVersion,\r\n  GetDeckNames,\r\n  GetModelNames,\r\n  GetModelFieldNames,\r\n\r\n  TranslateInjectText,\r\n}\r\n","export {\r\n  WORD_FIELDS_MAP,\r\n  PHRASE_FIELDS_MAP,\r\n  COMMON_CONFIG_MAP,\r\n  SENTENCE_FIELDS_MAP,\r\n  ANKI_CONNECTION_MAP,\r\n} from \"./modelFieldNameMap\";\r\n\r\nexport { Command } from \"./command\";\r\n\r\nexport const DEFAULT_ANKI_CONNECTION_URL = \"http://127.0.0.1:8765\";\r\n","import {\r\n  WordFields,\r\n  PhraseFields,\r\n  CommonConfig,\r\n  SentenceFields,\r\n} from \"@/extensions-api\";\r\n\r\nconst WORD_FIELDS_MAP: WordFields = {\r\n  definition: \"定义\",\r\n  word: \"单词\",\r\n  translation: \"翻译\",\r\n  part_of_speech: \"词性\",\r\n  definition_audio: \"定义音频\",\r\n  am: \"美国音标\",\r\n  en: \"英国音标\",\r\n  am_audio: \"美国音频\",\r\n  en_audio: \"英国音频\",\r\n  star_amount: \"出现频率\",\r\n  example_audio: \"例句音频\",\r\n  example_sentence: \"例句原文\",\r\n  example_sentence_translation: \"例句翻译\",\r\n};\r\n\r\nconst PHRASE_FIELDS_MAP: PhraseFields = {\r\n  phrase: \"短语词组\",\r\n  phrase_audio: \"短语音频\",\r\n  translations: \"短语翻译\",\r\n  example_audio_1: \"例句1音频\",\r\n  example_audio_2: \"例句2音频\",\r\n  example_audio_3: \"例句3音频\",\r\n  example_sentence_1: \"例句1原文\",\r\n  example_sentence_2: \"例句2原文\",\r\n  example_sentence_3: \"例句3原文\",\r\n  example_sentence_translation_1: \"例句1翻译\",\r\n  example_sentence_translation_2: \"例句2翻译\",\r\n  example_sentence_translation_3: \"例句3翻译\",\r\n};\r\n\r\nconst SENTENCE_FIELDS_MAP: SentenceFields = {\r\n  sentence: \"句子原文\",\r\n  sentence_audio: \"句子音频\",\r\n  sentence_translation: \"句子翻译\",\r\n};\r\n\r\nconst COMMON_CONFIG_MAP: CommonConfig = {\r\n  deckName: \"牌组名称\",\r\n  modelName: \"模型名称\",\r\n  tags: \"卡片标签\",\r\n};\r\n\r\nconst ANKI_CONNECTION_MAP = {\r\n  ankiConnectionMethod: \"连接方法\",\r\n  ankiConnectionURL: \"连接URL\",\r\n};\r\n\r\nif (__DEV__) {\r\n  Object.freeze(WORD_FIELDS_MAP);\r\n  Object.freeze(PHRASE_FIELDS_MAP);\r\n  Object.freeze(SENTENCE_FIELDS_MAP);\r\n  Object.freeze(COMMON_CONFIG_MAP);\r\n  Object.freeze(ANKI_CONNECTION_MAP);\r\n}\r\n\r\nexport {\r\n  WORD_FIELDS_MAP,\r\n  COMMON_CONFIG_MAP,\r\n  PHRASE_FIELDS_MAP,\r\n  SENTENCE_FIELDS_MAP,\r\n  ANKI_CONNECTION_MAP,\r\n};\r\n","export function setBadgeText(\r\n  details: chrome.browserAction.BadgeTextDetails,\r\n  callback?: () => void\r\n) {\r\n  chrome.browserAction.setBadgeText(details, callback);\r\n}\r\n","//此处的值与 manifest 中 command对象的键相关\r\ntype Command =\r\n  | \"open_search_box\"\r\n  | \"show_translation_page\"\r\n  | \"switch_hotkey_and_selection_listener\";\r\n\r\ntype HandlerObject = Record<Command, () => void>;\r\nlet onCommand = function onCommand(handlerObject: HandlerObject) {\r\n  //监听用户快捷键，用于开关拓展\r\n  chrome.commands.onCommand.addListener(function (command) {\r\n    const handler = handlerObject[command as Command];\r\n    handler?.();\r\n  });\r\n};\r\n\r\nif (__DEV__) {\r\n  onCommand = function StrictOnCommand(handlerObject: HandlerObject) {\r\n    const { commands } = chrome.runtime.getManifest();\r\n    if (!commands) throw new Error(\"manifest.json 文件中没有 commands 项\");\r\n    const commandNames = Object.keys(handlerObject);\r\n    commandNames.forEach(function (command) {\r\n      if (!(command in commands))\r\n        throw new Error(`没有在 commands 中找到 ${command} 项`);\r\n    });\r\n    //监听用户快捷键，用于开关拓展\r\n    chrome.commands.onCommand.addListener(function (command) {\r\n      const handler = handlerObject[command as Command];\r\n      handler?.();\r\n    });\r\n  };\r\n}\r\n\r\nexport { onCommand };\r\n","export function addContextMenuItem(\r\n  createProperties: chrome.contextMenus.CreateProperties,\r\n  callback?: () => void\r\n) {\r\n  chrome.contextMenus.create(createProperties, callback);\r\n}\r\n\r\nexport function onContextMenuClick(\r\n  callback: (\r\n    info: chrome.contextMenus.OnClickData,\r\n    tab?: chrome.tabs.Tab\r\n  ) => void\r\n) {\r\n  chrome.contextMenus.onClicked.addListener(callback);\r\n}\r\n","export {\r\n  getStorageByArray,\r\n  getStorageByObject,\r\n  setStorage,\r\n  onStorageChange,\r\n} from \"./storage\";\r\n\r\nexport { onCommand } from \"./commands\";\r\nexport { setBadgeText } from \"./browserAction\";\r\nexport { executeScript, postFrontend } from \"./tabs\";\r\nexport { addContextMenuItem, onContextMenuClick } from \"./contextMenus\";\r\nexport { postBackend, onMessage, getURL, openOptionsPage } from \"./runtime\";\r\nexport { TabPanelName } from \"./types\";\r\nexport type {\r\n  Storage,\r\n  WordFields,\r\n  ModelFields,\r\n  PhraseFields,\r\n  SentenceFields,\r\n  WordConfig,\r\n  PhraseConfig,\r\n  CommonConfig,\r\n  SentenceConfig,\r\n  CheckWordDuplicate,\r\n  CheckPhraseDuplicate,\r\n  CheckSentenceDuplicate,\r\n  ConfigKeys,\r\n  DuplicateConfigKeys,\r\n} from \"./types\";\r\n","import { Command } from \"@/configuration\";\r\nimport { ShowData, Point } from \"@/types\";\r\nimport { NoteData } from \"@/translation-page\";\r\nimport {\r\n  AddNoteReturnType,\r\n  GetVersionReturnType,\r\n  RelearnCardsReturnType,\r\n  GetDeckNamesReturnType,\r\n  GetModelNamesReturnType,\r\n  GetModelFieldNamesReturnType,\r\n} from \"@/anki\";\r\nimport { TranslationResult } from \"@/dictionary\";\r\nexport function getURL(name: string) {\r\n  return chrome.runtime.getURL(name);\r\n}\r\n\r\nexport function openOptionsPage(callback?: () => void) {\r\n  chrome.runtime.openOptionsPage(callback);\r\n}\r\n\r\nexport type SendResponse = Parameters<\r\n  Parameters<typeof chrome.runtime.onMessage.addListener>[\"0\"]\r\n>[\"2\"];\r\n\r\n//向后端发送消息的函数\r\nexport async function postBackend(\r\n  command: Command.GetDeckNames\r\n): Promise<GetDeckNamesReturnType>;\r\nexport async function postBackend(\r\n  command: Command.GetModelNames\r\n): Promise<GetModelNamesReturnType>;\r\nexport async function postBackend(\r\n  command: Command.GetVersion\r\n): Promise<GetVersionReturnType>;\r\nexport async function postBackend(\r\n  command: Command.GetModelFieldNames,\r\n  data: string\r\n): Promise<GetModelFieldNamesReturnType>;\r\nexport async function postBackend(\r\n  command: Command.AddNote,\r\n  data: NoteData\r\n): Promise<AddNoteReturnType>;\r\nexport async function postBackend(\r\n  command: Command.RelearnNote,\r\n  data: number[]\r\n): Promise<RelearnCardsReturnType>;\r\nexport async function postBackend(\r\n  command: Command.TranslateText,\r\n  data: string\r\n): Promise<TranslationResult>;\r\nexport async function postBackend(\r\n  command: Command.TranslateInjectText,\r\n  data: { text: string; point: Point }\r\n): Promise<void>;\r\nexport async function postBackend(command: Command, data?: any): Promise<any> {\r\n  return new Promise((resolve) => {\r\n    chrome.runtime.sendMessage({ command, data }, function (response) {\r\n      resolve(response);\r\n    });\r\n  });\r\n}\r\n\r\ninterface Handler {\r\n  (args: {\r\n    command: Command.ShowInjectTranslation;\r\n    data: Required<ShowData>;\r\n    sendResponse: () => void;\r\n  }): Promise<void>;\r\n  (args: {\r\n    command: Command.TranslateInjectText;\r\n    data: { text: string; point: Point };\r\n    sendResponse: () => void;\r\n  }): Promise<void>;\r\n  (args: {\r\n    command: Command.OpenSearchBox;\r\n    data: undefined;\r\n    sendResponse: () => void;\r\n  }): Promise<void>;\r\n  (args: {\r\n    command: Command.ShowIframe;\r\n    data: undefined;\r\n    sendResponse: () => void;\r\n  }): Promise<void>;\r\n  (args: {\r\n    command: Command.GetVersion;\r\n    data: undefined;\r\n    sendResponse: (data: GetVersionReturnType) => void;\r\n  }): Promise<void>;\r\n  (args: {\r\n    command: Command.GetDeckNames;\r\n    data: undefined;\r\n    sendResponse: (data: GetDeckNamesReturnType) => void;\r\n  }): Promise<void>;\r\n  (args: {\r\n    command: Command.GetModelNames;\r\n    data: undefined;\r\n    sendResponse: (data: GetModelNamesReturnType) => void;\r\n  }): Promise<void>;\r\n  (args: {\r\n    command: Command.GetModelFieldNames;\r\n    data: string;\r\n    sendResponse: (data: GetModelFieldNamesReturnType) => void;\r\n  }): Promise<void>;\r\n  (args: {\r\n    command: Command.AddNote;\r\n    data: NoteData;\r\n    sendResponse: (data: AddNoteReturnType) => void;\r\n  }): Promise<void>;\r\n  (args: {\r\n    command: Command.RelearnNote;\r\n    data: number[];\r\n    sendResponse: (data: RelearnCardsReturnType) => void;\r\n  }): Promise<void>;\r\n  (args: {\r\n    command: Command.TranslateText;\r\n    data: string;\r\n    sendResponse: (data: TranslationResult) => void;\r\n  }): Promise<void>;\r\n}\r\n//监听拓展不同模块间消息传递的函数\r\nexport function onMessage(handler: Handler) {\r\n  chrome.runtime.onMessage.addListener(function (\r\n    message,\r\n    sender,\r\n    _sendResponse\r\n  ) {\r\n    //主要用于消除因为 return true,但却没有调用 sendResponse 而造成的报错。\r\n    let called = false;\r\n    handler({\r\n      ...message,\r\n      sendResponse(...args: any[]) {\r\n        called = true;\r\n        return _sendResponse(...args);\r\n      },\r\n    }).then(function () {\r\n      if (called) return;\r\n\r\n      _sendResponse();\r\n    });\r\n    return true; //为了使sendResponse可以异步调用，这是必须的\r\n  });\r\n}\r\n","import pick from \"lodash.pick\";\r\nimport { DEFAULT_ANKI_CONNECTION_URL } from \"@/configuration\";\r\nimport { Storage, TabPanelName, PartialStorage } from \"./types\";\r\n\r\n//缓存默认值对象，用于在用户刚刚加载拓展，没有进行任何配置时作为初始配置。\r\n//确保 Storage 中的缓存无论何时都是符合要求的，不存在刚刚加载插件时因为 Storage 为空而导致的问题。\r\nconst defaultStorage: Storage = {\r\n  switchHotkeyAndSelectionListener: true,\r\n  hotKey: \"shiftKey\",\r\n  openSelection: true,\r\n  hiddenChinese: false,\r\n  checkedTabPanel: TabPanelName.Home,\r\n  ankiConnectionMethod: \"AnkiConnection\",\r\n  ankiConnectionURL: DEFAULT_ANKI_CONNECTION_URL,\r\n  switchStrengthenSelectionByPressedCtrl: true,\r\n  wordConfig: {},\r\n  phraseConfig: {},\r\n  sentenceConfig: {},\r\n\r\n  checkWordDuplicate: {\r\n    word: true,\r\n    deckName: true,\r\n    definition: true,\r\n    translation: true,\r\n  },\r\n  checkPhraseDuplicate: {\r\n    phrase: true,\r\n    deckName: true,\r\n  },\r\n  checkSentenceDuplicate: {\r\n    deckName: true,\r\n    sentence: true,\r\n  },\r\n};\r\n\r\ntype StorageKeys = keyof Storage;\r\n\r\ntype StorageHandlers<T extends PartialStorage> = {\r\n  [P in keyof T]?: (value: T[P]) => void;\r\n};\r\n\r\ntype StorageToCallback<T extends PartialStorage> = {\r\n  [P in keyof T]?: (oldVal: T[P], newVal: T[P]) => void;\r\n};\r\n\r\ntype GetStorageCallback = (storage: PartialStorage) => void;\r\n\r\nfunction handlersIsArray(\r\n  handlers: StorageHandlers<Storage> | StorageKeys[]\r\n): handlers is StorageKeys[] {\r\n  return Array.isArray(handlers);\r\n}\r\n\r\nfunction getStorage<K extends StorageKeys>(\r\n  handlers: K[],\r\n  callback: (storage: Pick<Storage, K>) => void\r\n): void;\r\nfunction getStorage(\r\n  handlers: StorageHandlers<Storage>,\r\n  callback?: GetStorageCallback\r\n): void;\r\nfunction getStorage<K extends StorageKeys>(\r\n  handlers: StorageHandlers<Storage> | K[],\r\n  callback?: (storage: Pick<Storage, K>) => void\r\n) {\r\n  const storageKeys = handlersIsArray(handlers)\r\n    ? handlers\r\n    : (Object.keys(handlers) as StorageKeys[]);\r\n  const storage = pick(defaultStorage, storageKeys);\r\n  chrome.storage.local.get(storage, (storage: PartialStorage) => {\r\n    if (!handlersIsArray(handlers)) {\r\n      Object.keys(storage).forEach((key) => {\r\n        const handler = handlers[key as StorageKeys];\r\n        const cacheValue = storage[key as StorageKeys];\r\n        //@ts-ignore 是匹配的值\r\n        handler?.(cacheValue);\r\n      });\r\n    }\r\n    callback?.(storage as Pick<Storage, K>);\r\n  });\r\n}\r\n\r\nexport function getStorageByArray<K extends StorageKeys>(\r\n  names: K[],\r\n  callback: (storage: Pick<Storage, K>) => void\r\n) {\r\n  getStorage(names, callback);\r\n}\r\n\r\nexport function getStorageByObject(\r\n  handlers: StorageHandlers<Storage>,\r\n  callback?: GetStorageCallback\r\n) {\r\n  getStorage(handlers, callback);\r\n}\r\n\r\nexport function onStorageChange(handlers: StorageToCallback<Storage>) {\r\n  const listener: Parameters<typeof chrome.storage.onChanged.addListener>[0] = (\r\n    changes\r\n  ) => {\r\n    Object.keys(changes).forEach((key) => {\r\n      const handler = handlers[key as StorageKeys];\r\n      if (handler) {\r\n        const { oldValue, newValue } = changes[key]!;\r\n        //@ts-ignore 是正确匹配的\r\n        handler(oldValue, newValue);\r\n      }\r\n    });\r\n  };\r\n  chrome.storage.onChanged.addListener(listener);\r\n  return () => {\r\n    chrome.storage.onChanged.removeListener(listener);\r\n  };\r\n}\r\n\r\nexport function setStorage(\r\n  partialStorage: PartialStorage,\r\n  callback?: () => void\r\n) {\r\n  chrome.storage.local.set(partialStorage, callback);\r\n}\r\n","import { ShowData } from \"@/types\";\r\nimport { Command } from \"@/configuration\";\r\n\r\n//向前端发送消息的函数\r\nexport async function postFrontend(command: Command.ShowIframe): Promise<void>;\r\nexport async function postFrontend(\r\n  command: Command.OpenSearchBox\r\n): Promise<void>;\r\nexport async function postFrontend(\r\n  command: Command.ShowInjectTranslation,\r\n  data: Required<ShowData>\r\n): Promise<void>;\r\nexport async function postFrontend(\r\n  command: Command,\r\n  data?: any\r\n): Promise<void> {\r\n  return new Promise((resolve) => {\r\n    chrome.tabs.query({ active: true }, function (tabs) {\r\n      tabs.forEach((tab) => {\r\n        if (!tab.id) return;\r\n        chrome.tabs.sendMessage(tab.id, { command, data }, function (response) {\r\n          resolve(response);\r\n        });\r\n      });\r\n    });\r\n  });\r\n}\r\n\r\nexport function executeScript(\r\n  details: chrome.tabs.InjectDetails,\r\n  callback?: ((result: any[]) => void) | undefined\r\n) {\r\n  chrome.tabs.executeScript(details, callback);\r\n}\r\n","import { HotKey } from \"@/types\";\r\n\r\nexport interface CommonConfig {\r\n  tags: string;\r\n  deckName: string;\r\n  modelName: string;\r\n}\r\n\r\nexport interface WordFields {\r\n  en: string;\r\n  am: string;\r\n  word: string;\r\n  am_audio: string;\r\n  en_audio: string;\r\n  definition: string;\r\n  translation: string;\r\n  star_amount: string;\r\n  example_audio: string;\r\n  part_of_speech: string;\r\n  definition_audio: string;\r\n  example_sentence: string;\r\n  example_sentence_translation: string;\r\n}\r\n\r\nexport interface PhraseFields {\r\n  phrase: string;\r\n  phrase_audio: string;\r\n  translations: string;\r\n  example_audio_1: string;\r\n  example_audio_2: string;\r\n  example_audio_3: string;\r\n  example_sentence_1: string;\r\n  example_sentence_2: string;\r\n  example_sentence_3: string;\r\n  example_sentence_translation_1: string;\r\n  example_sentence_translation_2: string;\r\n  example_sentence_translation_3: string;\r\n}\r\n\r\nexport interface SentenceFields {\r\n  sentence: string;\r\n  sentence_audio: string;\r\n  sentence_translation: string;\r\n}\r\n\r\nexport const enum TabPanelName {\r\n  Home,\r\n  Word,\r\n  Phrase,\r\n  Sentence,\r\n}\r\n\r\nexport type WordConfig = Partial<WordFields & CommonConfig>;\r\nexport type PhraseConfig = Partial<PhraseFields & CommonConfig>;\r\nexport type SentenceConfig = Partial<SentenceFields & CommonConfig>;\r\nexport type ConfigKeys =\r\n  | keyof WordConfig\r\n  | keyof PhraseConfig\r\n  | keyof SentenceConfig;\r\n\r\nexport type CheckWordDuplicate = Partial<\r\n  Record<keyof Omit<WordConfig, \"tags\">, boolean>\r\n>;\r\nexport type CheckPhraseDuplicate = Partial<\r\n  Record<keyof Omit<PhraseConfig, \"tags\">, boolean>\r\n>;\r\nexport type CheckSentenceDuplicate = Partial<\r\n  Record<keyof Omit<SentenceConfig, \"tags\">, boolean>\r\n>;\r\n\r\nexport type DuplicateConfigKeys =\r\n  | keyof CheckWordDuplicate\r\n  | keyof CheckPhraseDuplicate\r\n  | keyof CheckSentenceDuplicate;\r\n\r\nexport type ModelFields =\r\n  | Partial<WordFields>\r\n  | Partial<PhraseFields>\r\n  | Partial<SentenceFields>;\r\n\r\nexport interface Storage {\r\n  switchHotkeyAndSelectionListener: boolean;\r\n  openSelection: boolean;\r\n  hiddenChinese: boolean;\r\n  ankiConnectionURL: string;\r\n  hotKey: HotKey;\r\n  ankiConnectionMethod: string;\r\n  checkedTabPanel: TabPanelName;\r\n  wordConfig: WordConfig;\r\n  phraseConfig: PhraseConfig;\r\n  sentenceConfig: SentenceConfig;\r\n  checkWordDuplicate: CheckWordDuplicate;\r\n  checkPhraseDuplicate: CheckPhraseDuplicate;\r\n  checkSentenceDuplicate: CheckSentenceDuplicate;\r\n  switchStrengthenSelectionByPressedCtrl: boolean;\r\n}\r\n\r\nexport type PartialStorage = Partial<Storage>;\r\n","import React, { useMemo } from \"react\";\r\n\r\nimport { ConfigType } from \"../types\";\r\nimport { useStorageStore, useAnkiStore } from \"../stores\";\r\nimport { getConfigName, getDuplicateConfigName } from \"../utils\";\r\nimport { TagsItem } from \"./TagsItem\";\r\nimport { SelectItem } from \"./SelectItem\";\r\nimport { H3, Fieldset } from \"../pure-components\";\r\nimport {\r\n  WORD_FIELDS_MAP,\r\n  PHRASE_FIELDS_MAP,\r\n  COMMON_CONFIG_MAP,\r\n  SENTENCE_FIELDS_MAP,\r\n} from \"@/configuration\";\r\nimport { extractEntry } from \"@/utils\";\r\n\r\ninterface Props {\r\n  configType: ConfigType;\r\n}\r\n\r\nexport const AnkiConfig = React.memo(function AnkiConfig(props: Props) {\r\n  const configType = props.configType;\r\n  const configName = getConfigName(configType);\r\n  const duplicateConfigName = getDuplicateConfigName(configType);\r\n\r\n  const config = useStorageStore((state) => state[configName]);\r\n  const duplicateConfig = useStorageStore(\r\n    (state) => state[duplicateConfigName]\r\n  );\r\n  const updateConfig = useStorageStore((state) => state.updateConfig);\r\n  const updateDuplicateConfig = useStorageStore(\r\n    (state) => state.updateDuplicateConfig\r\n  );\r\n  const modelValue = config.modelName;\r\n\r\n  const version = useAnkiStore((state) => {\r\n    return state.version;\r\n  });\r\n  const deckNames = useAnkiStore((state) => state.deckNames);\r\n  const modelNames = useAnkiStore((state) => state.modelNames);\r\n  const fieldNamesObject = useAnkiStore((state) => state.fieldNamesObject);\r\n  const modelFieldNames =\r\n    modelValue == null ? undefined : fieldNamesObject[modelValue];\r\n  const disabled = version == null;\r\n  const connected = version != null;\r\n\r\n  const headerTitle = useMemo(\r\n    function () {\r\n      return {\r\n        [ConfigType.Word]: \"单词配置\",\r\n        [ConfigType.Phrase]: \"短语配置\",\r\n        [ConfigType.Sentence]: \"句子配置\",\r\n      }[configType];\r\n    },\r\n    [configType]\r\n  );\r\n\r\n  const modelFieldObject = useMemo(() => {\r\n    return {\r\n      [ConfigType.Word]: WORD_FIELDS_MAP,\r\n      [ConfigType.Phrase]: PHRASE_FIELDS_MAP,\r\n      [ConfigType.Sentence]: SENTENCE_FIELDS_MAP,\r\n    }[configType];\r\n  }, [configType]);\r\n\r\n  const [deckName, deckText] = useMemo(() => {\r\n    return extractEntry(COMMON_CONFIG_MAP, \"deckName\");\r\n  }, []);\r\n\r\n  const [modelName, modelText] = useMemo(() => {\r\n    return extractEntry(COMMON_CONFIG_MAP, \"modelName\");\r\n  }, []);\r\n\r\n  const [tagsName, tagsText] = useMemo(() => {\r\n    return extractEntry(COMMON_CONFIG_MAP, \"tags\");\r\n  }, []);\r\n\r\n  const args = {\r\n    connected,\r\n    configName,\r\n    duplicateConfigName,\r\n    updateConfig,\r\n    updateDuplicateConfig,\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <H3 className=\"col-span-4\">{headerTitle}</H3>\r\n      <Fieldset disabled={disabled}>\r\n        <SelectItem\r\n          {...args}\r\n          name={deckName}\r\n          text={deckText}\r\n          options={deckNames}\r\n          value={config[deckName] || \"\"}\r\n          duplicateValue={!!duplicateConfig[deckName]}\r\n          className=\"col-span-3\"\r\n        />\r\n        <SelectItem\r\n          {...args}\r\n          name={modelName}\r\n          text={modelText}\r\n          options={modelNames}\r\n          value={config[modelName] || \"\"}\r\n          duplicateValue={!!duplicateConfig[modelName]}\r\n          className=\"col-span-3\"\r\n        />\r\n        <TagsItem\r\n          name={tagsName}\r\n          text={tagsText}\r\n          configName={configName}\r\n          value={config[tagsName] || \"\"}\r\n          updateConfig={updateConfig}\r\n        />\r\n        {Object.entries(modelFieldObject).map(([name, text]) => {\r\n          return (\r\n            <SelectItem\r\n              {...args}\r\n              key={name}\r\n              name={name}\r\n              text={text}\r\n              options={modelFieldNames}\r\n              //@ts-ignore 是相互匹配的\r\n              value={config[name] || \"\"}\r\n              //@ts-ignore 是相互匹配的\r\n              duplicateValue={!!duplicateConfig[name]}\r\n              className=\"col-span-1\"\r\n            />\r\n          );\r\n        })}\r\n      </Fieldset>\r\n    </>\r\n  );\r\n});\r\n","import React, { useMemo, useCallback } from \"react\";\r\n\r\nimport { useStorageStore } from \"../stores\";\r\nimport { Fieldset, H3, Label, Select, Input } from \"../pure-components\";\r\nimport { extractEntry } from \"@/utils\";\r\nimport {\r\n  ANKI_CONNECTION_MAP,\r\n  DEFAULT_ANKI_CONNECTION_URL,\r\n} from \"@/configuration\";\r\n\r\nexport const BasisConfig = React.memo(function BasisConfig() {\r\n  return (\r\n    <>\r\n      <H3 className=\"col-span-4\">基础配置</H3>\r\n      <Fieldset>\r\n        <ConnectionMethod />\r\n        <ConnectionURL />\r\n      </Fieldset>\r\n    </>\r\n  );\r\n});\r\n\r\nconst ConnectionMethod = React.memo(function ConnectionMethod() {\r\n  const value = useStorageStore((state) => state.ankiConnectionMethod);\r\n  const [name, text] = useMemo(function () {\r\n    return extractEntry(ANKI_CONNECTION_MAP, \"ankiConnectionMethod\");\r\n  }, []);\r\n\r\n  const id = \"basis-config-\".concat(text);\r\n  return (\r\n    <>\r\n      <Label className=\"col-span-1\" htmlFor={id}>\r\n        {text}\r\n      </Label>\r\n      <Select\r\n        id={id}\r\n        name={name}\r\n        value={value}\r\n        className=\"col-span-3\"\r\n        onChange={() => {\r\n          //暂时没有其它连接anki的方法\r\n          return void 0;\r\n        }}\r\n      >\r\n        <option value={value}>{value}</option>\r\n      </Select>\r\n    </>\r\n  );\r\n});\r\n\r\nconst ConnectionURL = React.memo(function ConnectionURL() {\r\n  const value = useStorageStore((state) => state.ankiConnectionURL);\r\n  const update = useStorageStore((state) => state.updateOtherConfig);\r\n\r\n  const [name, text] = useMemo(function () {\r\n    return extractEntry(ANKI_CONNECTION_MAP, \"ankiConnectionURL\");\r\n  }, []);\r\n\r\n  const handleChange = useCallback(\r\n    function (event: React.ChangeEvent<HTMLInputElement>) {\r\n      update(name, event.target.value);\r\n    },\r\n    [update, name]\r\n  );\r\n  const handleClick = useCallback(\r\n    function () {\r\n      return update(name, DEFAULT_ANKI_CONNECTION_URL);\r\n    },\r\n    [update, name]\r\n  );\r\n  const id = \"basis-config-\".concat(text);\r\n  return (\r\n    <>\r\n      <Label className=\"col-span-1\" htmlFor={id}>\r\n        {text}\r\n      </Label>\r\n      <div className=\"col-span-3 flex\">\r\n        <Input\r\n          id={id}\r\n          name={name}\r\n          type=\"text\"\r\n          value={value}\r\n          className=\"flex-1 mr-2\"\r\n          onChange={handleChange}\r\n        />\r\n        {useMemo(() => {\r\n          return (\r\n            <button\r\n              type=\"button\"\r\n              className=\" \r\n                px-2  \r\n                rounded  \r\n                border-none \r\n                text-white \r\n                bg-green-light  \r\n                hover:bg-green-dark  \r\n                focus:outline-none  \r\n                focus:ring-2  \r\n                focus:ring-green-800 \r\n                cursor-pointer \r\n              \"\r\n              onClick={handleClick}\r\n            >\r\n              重置\r\n            </button>\r\n          );\r\n        }, [handleClick])}\r\n      </div>\r\n    </>\r\n  );\r\n});\r\n","import React, { useEffect, useCallback } from \"react\";\r\nimport classJoin from \"classnames\";\r\nimport { Tab } from \"@headlessui/react\";\r\nimport { ConfigType } from \"../types\";\r\nimport { AnkiConfig } from \"./AnkiConfig\";\r\nimport { useStorageStore } from \"../stores\";\r\nimport { BasisConfig } from \"./BasisConfig\";\r\nimport { onStorageChange, setStorage, TabPanelName } from \"@/extensions-api\";\r\nexport const ConfigTabs = React.memo(function ConfigTabs() {\r\n  const checkedTabPanel = useStorageStore((state) => state.checkedTabPanel);\r\n  const update = useStorageStore((state) => state.updateOtherConfig);\r\n  useEffect(\r\n    function () {\r\n      return onStorageChange({\r\n        checkedTabPanel: (_, val) => {\r\n          update(\"checkedTabPanel\", val);\r\n        },\r\n      });\r\n    },\r\n    [update]\r\n  );\r\n\r\n  const onChange = useCallback(function (key: TabPanelName) {\r\n    setStorage({\r\n      checkedTabPanel: key,\r\n    });\r\n  }, []);\r\n\r\n  const selectedIndex = {\r\n    [TabPanelName.Home]: 0,\r\n    [TabPanelName.Word]: 1,\r\n    [TabPanelName.Phrase]: 2,\r\n    [TabPanelName.Sentence]: 3,\r\n  }[checkedTabPanel];\r\n\r\n  const classNameCallback = useCallback(\r\n    ({ selected }: { selected: boolean }) => {\r\n      return classJoin(\r\n        {\r\n          \"prior:text-red-600 prior:border-red-600 prior:border-b-2\": selected,\r\n        },\r\n        `\r\n          mt-1 mx-2 \r\n          px-2 \r\n          first:ml-0\r\n          font-bold text-base\r\n          text-gray-600 \r\n          cursor-pointer \r\n          flex-shrink-0\r\n          focus-visible:outline-none\r\n          focus-visible:ring-2\r\n          focus-visible:ring-offset-slate-50\r\n        `\r\n      );\r\n    },\r\n    []\r\n  );\r\n\r\n  return (\r\n    <div className=\"flex-1\">\r\n      <Tab.Group onChange={onChange} selectedIndex={selectedIndex}>\r\n        <Tab.List className=\"flex justify-around border-b mb-0\">\r\n          <Tab className={classNameCallback}>基础配置</Tab>\r\n          <Tab className={classNameCallback}>单词配置</Tab>\r\n          <Tab className={classNameCallback}>短语配置</Tab>\r\n          <Tab className={classNameCallback}>句子配置</Tab>\r\n        </Tab.List>\r\n        <Tab.Panels>\r\n          <Tab.Panel>\r\n            <BasisConfig />\r\n          </Tab.Panel>\r\n          <Tab.Panel>\r\n            <AnkiConfig configType={ConfigType.Word} />\r\n          </Tab.Panel>\r\n          <Tab.Panel>\r\n            <AnkiConfig configType={ConfigType.Phrase} />\r\n          </Tab.Panel>\r\n          <Tab.Panel>\r\n            <AnkiConfig configType={ConfigType.Sentence} />\r\n          </Tab.Panel>\r\n        </Tab.Panels>\r\n      </Tab.Group>\r\n    </div>\r\n  );\r\n});\r\n","import React, { useState, useCallback } from \"react\";\r\nimport classJoin from \"classnames\";\r\nimport { useAnkiStore, ankiStoreSubscribe, getStorage } from \"../stores\";\r\nimport { setStorage } from \"@/extensions-api\";\r\nimport { Loading } from \"@/translation-page\";\r\nimport { Button } from \"../pure-components\";\r\nexport const Footer = React.memo(function Footer() {\r\n  const version = useAnkiStore((state) => state.version);\r\n  const alertMessages = useAnkiStore((state) => state.alertMessages);\r\n  const fetchAnki = useAnkiStore((state) => state.fetchAnki);\r\n  const isNil = alertMessages.length === 0;\r\n  const connected = version != null;\r\n  //刷新操作\r\n\r\n  const [isRefreshing, setIsRefreshing] = useState(false);\r\n\r\n  const refresh = useCallback(\r\n    function () {\r\n      if (isRefreshing) return;\r\n      setIsRefreshing(true);\r\n      fetchAnki();\r\n      const unsubscribe = ankiStoreSubscribe(() => {\r\n        unsubscribe();\r\n        setIsRefreshing(false);\r\n      });\r\n    },\r\n    [isRefreshing, fetchAnki]\r\n  );\r\n  //处理保存\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const saveOptions = useCallback(\r\n    function () {\r\n      if (isSaving) return;\r\n      setIsSaving(true);\r\n      const storage = getStorage();\r\n      setStorage(storage, () => {\r\n        setTimeout(function () {\r\n          setIsSaving(false);\r\n        }, 800);\r\n      });\r\n    },\r\n    [isSaving]\r\n  );\r\n  return (\r\n    <>\r\n      {(isRefreshing || isSaving) && (\r\n        <Loading className=\"absolute inset-0 z-50\" />\r\n      )}\r\n      <footer\r\n        className=\"\r\n          flex \r\n          items-center \r\n          justify-between \r\n          mt-1 \r\n          border-t \r\n          border-dashed \r\n          border-gray-600 \r\n          overflow-hidden\r\n        \"\r\n      >\r\n        <Button\r\n          type=\"button\"\r\n          onClick={refresh}\r\n          title=\"如果 anki 发生改变,则可以按下该按钮进行刷新，以同步anki更改\"\r\n        >\r\n          刷新\r\n        </Button>\r\n        <p\r\n          role=\"status\"\r\n          aria-labelledby=\"connectionStatus\"\r\n          className=\"p-1 mr-1 text-sm flex-1\"\r\n        >\r\n          <span id=\"connectionStatus\">连接状态：</span>\r\n          <span\r\n            className={classJoin({\r\n              \"text-red-500\": !connected,\r\n            })}\r\n          >\r\n            {connected ? \"已连接\" : \"未连接\"}\r\n          </span>\r\n        </p>\r\n        {!isNil && (\r\n          <p\r\n            tabIndex={0}\r\n            className=\" px-1 py-0.5 mr-1 text-sm text-red-500 rounded-md focus:outline-none focus:ring-2 focus:ring-green-800 warning-message \"\r\n          >\r\n            警告信息\r\n          </p>\r\n        )}\r\n        <Button type=\"button\" onClick={saveOptions}>\r\n          保存\r\n        </Button>\r\n        <Button type=\"button\" onClick={window.close}>\r\n          退出\r\n        </Button>\r\n      </footer>\r\n    </>\r\n  );\r\n});\r\n","import React, { useEffect } from \"react\";\r\nimport { useAnkiStore } from \"../stores\";\r\nimport { ConfigTabs } from \"./ConfigTabs\";\r\nimport { Footer } from \"./Footer\";\r\n\r\nexport function OptionsPage() {\r\n  const fetchAnki = useAnkiStore((state) => state.fetchAnki);\r\n  useEffect(() => {\r\n    fetchAnki();\r\n  }, [fetchAnki]);\r\n\r\n  return (\r\n    <form action=\"#\" className=\"relative flex flex-col h-full \">\r\n      <ConfigTabs />\r\n      <Footer />\r\n    </form>\r\n  );\r\n}\r\n","import React, { ReactNode } from \"react\";\r\nimport classJoin from \"classnames\";\r\nimport { Handler } from \"../stores\";\r\nimport { Label } from \"../pure-components\";\r\nimport { ConfigName, DuplicateConfigName } from \"../types\";\r\n\r\ninterface Props {\r\n  name: string;\r\n  text: string;\r\n  value: string;\r\n  duplicateValue: boolean;\r\n  className: string;\r\n  connected: boolean;\r\n  configName: ConfigName;\r\n  options: string[] | undefined;\r\n  duplicateConfigName: DuplicateConfigName;\r\n  updateConfig: Handler[\"updateConfig\"];\r\n  updateDuplicateConfig: Handler[\"updateDuplicateConfig\"];\r\n}\r\n\r\nexport const SelectItem = React.memo(function SelectItem(props: Props) {\r\n  const {\r\n    configName,\r\n    duplicateConfigName,\r\n    name,\r\n    text,\r\n    value,\r\n    options,\r\n    className,\r\n    connected,\r\n    duplicateValue,\r\n    updateConfig,\r\n    updateDuplicateConfig,\r\n  } = props;\r\n\r\n  return (\r\n    <>\r\n      <Label className=\"col-span-1\">\r\n        {text}\r\n        <input\r\n          type=\"checkbox\"\r\n          className=\"align-[-1px] focus:outline-none focus:ring-2 focus:ring-offset-slate-50 \"\r\n          title=\"用于判断是否重复添加，选中越多判断越严格(命中重复的概率更低，更多类似的卡片被添加)，反之则越宽松(命中重复的概率更高，更少类似的卡片被添加)，推荐使用默认配置。\"\r\n          checked={duplicateValue}\r\n          onChange={(event) => {\r\n            updateDuplicateConfig(\r\n              duplicateConfigName,\r\n              //@ts-ignore 能够正确匹配的\r\n              name,\r\n              event.target.checked\r\n            );\r\n          }}\r\n        />\r\n      </Label>\r\n      <Select\r\n        name={name}\r\n        value={value}\r\n        aria-label={text}\r\n        connected={connected}\r\n        className={className}\r\n        options={options}\r\n        onChange={(event) => {\r\n          updateConfig(\r\n            configName,\r\n            //@ts-ignore 是能够正确匹配的\r\n            name,\r\n            event.target.value\r\n          );\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n});\r\n\r\ninterface SelectProps\r\n  extends React.DetailedHTMLProps<\r\n    React.SelectHTMLAttributes<HTMLSelectElement>,\r\n    HTMLSelectElement\r\n  > {\r\n  value: string;\r\n  options?: string[];\r\n  connected: boolean;\r\n}\r\n\r\nexport const Select = React.memo(function Select(props: SelectProps) {\r\n  const { className, value, connected, ...other } = props;\r\n  let options = props.options;\r\n  const isNil = options == null || options.length === 0;\r\n\r\n  if (isNil) {\r\n    options = [\"\"];\r\n  } else {\r\n    options = [\"\"].concat(options!);\r\n  }\r\n\r\n  const containValue = options.includes(value);\r\n\r\n  return (\r\n    <select\r\n      {...other}\r\n      value={value}\r\n      className={classJoin(\r\n        `\r\n          rounded\r\n          border\r\n          border-black\r\n          focus:outline-none \r\n          focus:ring-2 \r\n          focus:ring-offset-slate-50 \r\n        `,\r\n        className,\r\n        {\r\n          \"prior:border-red-500\": connected && !containValue,\r\n        }\r\n      )}\r\n      title={\r\n        connected && !containValue ? `[${value}]不存在，请重新选择` : undefined\r\n      }\r\n    >\r\n      <Options options={options}>\r\n        {!containValue && <option value={value}>{value}</option>}\r\n      </Options>\r\n    </select>\r\n  );\r\n});\r\n\r\nfunction Options(props: { options?: string[]; children: ReactNode }) {\r\n  const { options, children } = props;\r\n  return (\r\n    <>\r\n      {children}\r\n      {options &&\r\n        options.map(function (value) {\r\n          return (\r\n            <option value={value} key={value}>\r\n              {value}\r\n            </option>\r\n          );\r\n        })}\r\n    </>\r\n  );\r\n}\r\n","import React, { useCallback } from \"react\";\r\nimport { Handler } from \"../stores\";\r\nimport { ConfigName } from \"../types\";\r\nimport { Label, Input } from \"../pure-components\";\r\n\r\ninterface Props {\r\n  value: string;\r\n  name: string;\r\n  text: string;\r\n  configName: ConfigName;\r\n  updateConfig: Handler[\"updateConfig\"];\r\n}\r\n\r\nexport const TagsItem = React.memo(function TagsInput(props: Props) {\r\n  const { configName, value, name, text, updateConfig } = props;\r\n\r\n  const handleChange = useCallback(\r\n    function (event: React.ChangeEvent<HTMLInputElement>) {\r\n      //@ts-ignore 能够正确匹配的\r\n      updateConfig(configName, name, event.target.value);\r\n    },\r\n    [updateConfig, name, configName]\r\n  );\r\n  const id = `${configName}-${name}`;\r\n\r\n  return (\r\n    <>\r\n      <Label htmlFor={id} className=\"col-span-1\">\r\n        {text}\r\n      </Label>\r\n      <Input\r\n        id={id}\r\n        type=\"text\"\r\n        name={name}\r\n        value={value}\r\n        className=\"col-span-3\"\r\n        onChange={handleChange}\r\n      />\r\n    </>\r\n  );\r\n});\r\n","import React, { StrictMode } from \"react\";\r\nimport { createRoot } from \"react-dom/client\";\r\nimport { OptionsPage } from \"./components/OptionsPage\";\r\nimport { fetchStorage, storageStoreSubscribe } from \"./stores\";\r\nimport \"../index.css\";\r\n\r\nconst root = document.getElementById(\"root\")!;\r\nroot.classList.add(\"h-[26rem]\", \"w-[30rem]\");\r\nfetchStorage();\r\nconst unsubscribe = storageStoreSubscribe(function () {\r\n  unsubscribe();\r\n  createRoot(root).render(\r\n    <StrictMode>\r\n      <OptionsPage />\r\n    </StrictMode>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport classJoin from \"classnames\";\r\n\r\n/**\r\n * button标签的UI封装\r\n */\r\nexport const Button = React.forwardRef<\r\n  HTMLButtonElement,\r\n  React.DetailedHTMLProps<\r\n    React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    HTMLButtonElement\r\n  >\r\n>(function Button(props, ref) {\r\n  const { children, className, ...other } = props;\r\n  return (\r\n    <button\r\n      ref={ref}\r\n      {...other}\r\n      className={classJoin(\r\n        `\r\n          w-20 \r\n          p-1 \r\n          m-1 \r\n          rounded \r\n          border-none \r\n          text-center\r\n          text-white \r\n          bg-green-light \r\n          hover:bg-green-dark \r\n          cursor-pointer \r\n          focus:outline-none \r\n          focus:ring-2 \r\n          focus:ring-green-800\r\n        `,\r\n        className\r\n      )}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport classJoin from \"classnames\";\r\n\r\n/**\r\n * fieldset标签的UI封装\r\n */\r\nexport const Fieldset = React.forwardRef<\r\n  HTMLFieldSetElement,\r\n  React.DetailedHTMLProps<\r\n    React.FieldsetHTMLAttributes<HTMLFieldSetElement>,\r\n    HTMLFieldSetElement\r\n  >\r\n>(function Fieldset(props, ref) {\r\n  const { children, className, ...other } = props;\r\n\r\n  return (\r\n    <fieldset\r\n      ref={ref}\r\n      {...other}\r\n      className={classJoin(\r\n        \"grid grid-cols-4 gap-y-1 gap-x-2 px-2 text-black text-base\",\r\n        className\r\n      )}\r\n    >\r\n      {children}\r\n    </fieldset>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport classJoin from \"classnames\";\r\n\r\n/**\r\n * h3标签的UI封装\r\n */\r\nexport const H3 = React.forwardRef<\r\n  HTMLHeadingElement,\r\n  React.DetailedHTMLProps<\r\n    React.HTMLAttributes<HTMLHeadingElement>,\r\n    HTMLHeadingElement\r\n  >\r\n>(function H3(props, ref) {\r\n  const { children, className, ...other } = props;\r\n  return (\r\n    <h3\r\n      ref={ref}\r\n      {...other}\r\n      className={classJoin(\r\n        \"mb-1 py-1 px-2 rounded-t text-white text-lg bg-blue-gray\",\r\n        className\r\n      )}\r\n    >\r\n      {children}\r\n    </h3>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport classJoin from \"classnames\";\r\n\r\n/**\r\n * input标签的UI封装\r\n */\r\nexport const Input = React.forwardRef<\r\n  HTMLInputElement,\r\n  React.DetailedHTMLProps<\r\n    React.InputHTMLAttributes<HTMLInputElement>,\r\n    HTMLInputElement\r\n  >\r\n>(function Input(props, ref) {\r\n  const { className, ...other } = props;\r\n  return (\r\n    <input\r\n      ref={ref}\r\n      {...other}\r\n      className={classJoin(\r\n        `\r\n          px-1\r\n          rounded \r\n          border\r\n          border-black\r\n          outline-none \r\n          focus:outline-none \r\n          focus:ring-2 \r\n          focus:ring-offset-slate-50 \r\n        `,\r\n        className\r\n      )}\r\n    />\r\n  );\r\n});\r\n","import React from \"react\";\r\n\r\n/**\r\n * label标签的UI封装\r\n */\r\nexport const Label = React.forwardRef<\r\n  HTMLLabelElement,\r\n  React.DetailedHTMLProps<\r\n    React.LabelHTMLAttributes<HTMLLabelElement>,\r\n    HTMLLabelElement\r\n  >\r\n>(function Label(props, ref) {\r\n  const { children, ...other } = props;\r\n  return (\r\n    <label ref={ref} {...other}>\r\n      {children}\r\n    </label>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport classJoin from \"classnames\";\r\n\r\n/**\r\n * 对select标签的封装,添加了一些默认样式\r\n */\r\nexport const Select = React.forwardRef<\r\n  HTMLSelectElement,\r\n  React.DetailedHTMLProps<\r\n    React.SelectHTMLAttributes<HTMLSelectElement>,\r\n    HTMLSelectElement\r\n  >\r\n>(function Select(props, ref) {\r\n  const { className, children, ...other } = props;\r\n  return (\r\n    <select\r\n      ref={ref}\r\n      {...other}\r\n      className={classJoin(\r\n        className,\r\n        `\r\n          rounded\r\n          border\r\n          border-black\r\n          focus:outline-none \r\n          focus:ring-2 \r\n          focus:ring-offset-slate-50 \r\n        `\r\n      )}\r\n    >\r\n      {children}\r\n    </select>\r\n  );\r\n});\r\n","export * from \"./Button\";\r\nexport * from \"./Fieldset\";\r\nexport * from \"./H3\";\r\nexport * from \"./Input\";\r\nexport * from \"./Label\";\r\nexport * from \"./Select\";\r\n","import create from \"zustand\";\r\nimport { FieldNamesObject } from \"../types\";\r\nimport { Command } from \"@/configuration\";\r\nimport { AnkiResponseStatus } from \"@/anki\";\r\nimport { postBackend } from \"@/extensions-api\";\r\n\r\ninterface State {\r\n  version?: number;\r\n  deckNames: string[];\r\n  modelNames: string[];\r\n  alertMessages: string[];\r\n  fieldNamesObject: FieldNamesObject;\r\n  fetchAnki: () => Promise<void>;\r\n}\r\n\r\nexport const useAnkiStore = create<State>((set) => ({\r\n  deckNames: [],\r\n  modelNames: [],\r\n  alertMessages: [],\r\n  version: undefined,\r\n  fieldNamesObject: {},\r\n  async fetchAnki() {\r\n    //每次刷新都初始化,以避免上次的状态遗留影响本次的状态\r\n    const result: Omit<State, \"fetchAnki\"> = {\r\n      deckNames: [],\r\n      modelNames: [],\r\n      alertMessages: [],\r\n      version: undefined,\r\n      fieldNamesObject: {},\r\n    };\r\n\r\n    const {\r\n      data:version,\r\n      status: status0,\r\n      message: message0,\r\n    } = await postBackend(Command.GetVersion);\r\n    if (status0 !== AnkiResponseStatus.Success) {\r\n      result.alertMessages.push(message0);\r\n      return set(result);\r\n    } else {\r\n      result.version = version;\r\n    }\r\n\r\n    const {\r\n      data: deckNames,\r\n      status: status1,\r\n      message: message1,\r\n    } = await postBackend(Command.GetDeckNames);\r\n    if (status1 !== AnkiResponseStatus.Success) {\r\n      result.alertMessages.push(message1);\r\n    } else {\r\n      result.deckNames = deckNames!;\r\n    }\r\n\r\n    const {\r\n      data: modelNames,\r\n      status: status2,\r\n      message: message2,\r\n    } = await postBackend(Command.GetModelNames);\r\n    if (status2 !== AnkiResponseStatus.Success) {\r\n      result.alertMessages.push(message2);\r\n    } else {\r\n      result.modelNames = modelNames!;\r\n    }\r\n\r\n    const fieldNamesObject: FieldNamesObject = {};\r\n    modelNames?.forEach(async (modelName) => {\r\n      const {\r\n        status,\r\n        message,\r\n        data: modelFieldNames,\r\n      } = await postBackend(Command.GetModelFieldNames, modelName);\r\n      if (status !== AnkiResponseStatus.Success) {\r\n        result.alertMessages.push(message);\r\n      } else {\r\n        fieldNamesObject[modelName] = modelFieldNames!;\r\n      }\r\n    });\r\n\r\n    result.fieldNamesObject = fieldNamesObject;\r\n    return set(result);\r\n  },\r\n}));\r\n\r\nexport const ankiStoreSubscribe = useAnkiStore.subscribe;\r\n","export { useAnkiStore, ankiStoreSubscribe } from \"./ankiStore\";\r\nexport {\r\n  getStorage,\r\n  fetchStorage,\r\n  useStorageStore,\r\n  storageStoreSubscribe,\r\n} from \"./storageStore\";\r\nexport type { Handler } from \"./storageStore\";\r\n","import create from \"zustand\";\r\nimport omit from \"lodash.omit\";\r\nimport { immer } from \"zustand/middleware/immer\";\r\nimport {\r\n  Storage,\r\n  WordConfig,\r\n  PhraseConfig,\r\n  CheckWordDuplicate,\r\n  CheckPhraseDuplicate,\r\n  CheckSentenceDuplicate,\r\n  SentenceConfig,\r\n  getStorageByArray,\r\n  ConfigKeys,\r\n  DuplicateConfigKeys,\r\n} from \"@/extensions-api\";\r\nimport { DuplicateConfigName, ConfigName } from \"../types\";\r\n\r\ntype StorageStore = Pick<\r\n  Storage,\r\n  | \"wordConfig\"\r\n  | \"phraseConfig\"\r\n  | \"sentenceConfig\"\r\n  | \"checkWordDuplicate\"\r\n  | \"checkPhraseDuplicate\"\r\n  | \"checkSentenceDuplicate\"\r\n  | \"checkedTabPanel\"\r\n  | \"ankiConnectionURL\"\r\n  | \"ankiConnectionMethod\"\r\n>;\r\n\r\nexport interface Handler {\r\n  fetchStorage: () => void;\r\n  updateConfig: (\r\n    configName: ConfigName,\r\n    name: ConfigKeys,\r\n    value: string\r\n  ) => void;\r\n  updateDuplicateConfig: (\r\n    configName: DuplicateConfigName,\r\n    name: DuplicateConfigKeys,\r\n    value: boolean\r\n  ) => void;\r\n  updateOtherConfig: <\r\n    K extends keyof Pick<\r\n      State,\r\n      \"ankiConnectionMethod\" | \"ankiConnectionURL\" | \"checkedTabPanel\"\r\n    >\r\n  >(\r\n    name: K,\r\n    value: State[K]\r\n  ) => void;\r\n}\r\n\r\ntype State = StorageStore & Handler;\r\n\r\nexport const useStorageStore = create<State, [[\"zustand/immer\", never]]>(\r\n  immer((set) => {\r\n    function updateConfig(\r\n      configName: \"wordConfig\",\r\n      name: keyof WordConfig,\r\n      value: string\r\n    ): void;\r\n    function updateConfig(\r\n      configName: \"phraseConfig\",\r\n      name: keyof PhraseConfig,\r\n      value: string\r\n    ): void;\r\n    function updateConfig(\r\n      configName: \"sentenceConfig\",\r\n      name: keyof SentenceConfig,\r\n      value: string\r\n    ): void;\r\n    function updateConfig(\r\n      configName: ConfigName,\r\n      name: ConfigKeys,\r\n      value: string\r\n    ): void {\r\n      set((state) => {\r\n        //@ts-ignore 是能够正确配对的\r\n        state[configName][name] = value;\r\n      });\r\n    }\r\n\r\n    function updateDuplicateConfig(\r\n      configName: \"checkWordDuplicate\",\r\n      name: keyof CheckWordDuplicate,\r\n      value: boolean\r\n    ): void;\r\n    function updateDuplicateConfig(\r\n      configName: \"checkPhraseDuplicate\",\r\n      name: keyof CheckPhraseDuplicate,\r\n      value: boolean\r\n    ): void;\r\n    function updateDuplicateConfig(\r\n      configName: \"checkSentenceDuplicate\",\r\n      name: keyof CheckSentenceDuplicate,\r\n      value: boolean\r\n    ): void;\r\n    function updateDuplicateConfig(\r\n      configName: DuplicateConfigName,\r\n      name: DuplicateConfigKeys,\r\n      value: boolean\r\n    ): void {\r\n      set((state) => {\r\n        //@ts-ignore 是能够正确配对的\r\n        state[configName][name] = value;\r\n      });\r\n    }\r\n    return {\r\n      fetchStorage() {\r\n        getStorageByArray(\r\n          [\r\n            \"wordConfig\",\r\n            \"phraseConfig\",\r\n            \"sentenceConfig\",\r\n            \"checkWordDuplicate\",\r\n            \"checkPhraseDuplicate\",\r\n            \"checkSentenceDuplicate\",\r\n            \"ankiConnectionMethod\",\r\n            \"ankiConnectionURL\",\r\n            \"checkedTabPanel\",\r\n          ],\r\n          (val) => {\r\n            set(val);\r\n          }\r\n        );\r\n      },\r\n      updateConfig,\r\n      updateDuplicateConfig,\r\n      updateOtherConfig<\r\n        K extends keyof Pick<\r\n          State,\r\n          \"ankiConnectionMethod\" | \"ankiConnectionURL\" | \"checkedTabPanel\"\r\n        >\r\n      >(name: K, value: State[K]) {\r\n        set((state) => {\r\n          state[name] = value;\r\n        });\r\n      },\r\n    } as unknown as State; //设计上是，必须先调用 fetchStorage获取到 相应的数据后，才能够调用其它方法的\r\n  })\r\n);\r\n\r\nexport const getStorage = function (): StorageStore {\r\n  const state = useStorageStore.getState();\r\n  return omit(state, [\r\n    \"fetchStorage\",\r\n    \"updateConfig\",\r\n    \"updateOtherConfig\",\r\n    \"updateDuplicateConfig\",\r\n  ]);\r\n};\r\n\r\nexport const fetchStorage = useStorageStore.getState().fetchStorage;\r\n\r\nexport const storageStoreSubscribe = useStorageStore.subscribe;\r\n","export const enum ConfigType {\r\n  Word,\r\n  Phrase,\r\n  Sentence,\r\n}\r\n\r\nexport interface FieldNamesObject {\r\n  [key: string]: string[];\r\n}\r\n\r\nexport type ConfigName = \"wordConfig\" | \"phraseConfig\" | \"sentenceConfig\";\r\n\r\nexport type DuplicateConfigName =\r\n  | \"checkWordDuplicate\"\r\n  | \"checkSentenceDuplicate\"\r\n  | \"checkPhraseDuplicate\";\r\n","import { ConfigType } from \"../types\";\r\n\r\nexport function getConfigName(\r\n  configName: ConfigType\r\n): keyof Pick<Storage, \"wordConfig\" | \"phraseConfig\" | \"sentenceConfig\"> {\r\n  const obj = {\r\n    [ConfigType.Word]: \"wordConfig\",\r\n    [ConfigType.Phrase]: \"phraseConfig\",\r\n    [ConfigType.Sentence]: \"sentenceConfig\",\r\n  } as const;\r\n  return obj[configName];\r\n}\r\n\r\nexport function getDuplicateConfigName(\r\n  configName: ConfigType\r\n): keyof Pick<\r\n  Storage,\r\n  \"checkWordDuplicate\" | \"checkSentenceDuplicate\" | \"checkPhraseDuplicate\"\r\n> {\r\n  const obj = {\r\n    [ConfigType.Word]: \"checkWordDuplicate\",\r\n    [ConfigType.Phrase]: \"checkPhraseDuplicate\",\r\n    [ConfigType.Sentence]: \"checkSentenceDuplicate\",\r\n  } as const;\r\n  return obj[configName];\r\n}\r\n","/**\r\n * 一个展示loading状态的组件\r\n */\r\nimport React from \"react\";\r\nimport classJoin from \"classnames\";\r\n\r\nexport const Loading = React.memo(function Loading(props: {\r\n  className: string;\r\n}) {\r\n  const { className } = props;\r\n  return (\r\n    <div\r\n      title=\"loading...\"\r\n      className={classJoin(\r\n        `\r\n        inline-flex\r\n        flex-col\r\n        items-center\r\n        justify-center\r\n        px-4 py-2\r\n        font-bold\r\n        leading-6 \r\n        text-sm \r\n        shadow \r\n        rounded-md \r\n        text-white \r\n        bg-white/70\r\n        transition \r\n        ease-in-out \r\n        duration-150 \r\n        cursor-not-allowed\r\n        select-none\r\n      `,\r\n        className\r\n      )}\r\n    >\r\n      <svg\r\n        className=\" animate-spin h-10 w-10  text-blue-700 \"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        fill=\"none\"\r\n        viewBox=\"0 0 24 24\"\r\n      >\r\n        <circle\r\n          className=\"opacity-25\"\r\n          cx=\"12\"\r\n          cy=\"12\"\r\n          r=\"10\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth=\"4\"\r\n        ></circle>\r\n        <path\r\n          className=\"opacity-75\"\r\n          fill=\"currentColor\"\r\n          d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n        ></path>\r\n      </svg>\r\n    </div>\r\n  );\r\n});\r\n","export type {\r\n  NoteData,\r\n  WordNoteData,\r\n  PhraseNoteData,\r\n  SentenceNoteData,\r\n} from \"./types\";\r\n\r\nexport { Loading } from \"./components/Loading\";\r\n","/**\r\n * 对 window.addEventListener(\"message\",callback) 与 window.postMessage 进行二次封装，\r\n *  使window.postMessage具备回调函数功能\r\n */\r\n\r\nimport { FunctionAny } from \"@/types\";\r\nimport { Command } from \"@/configuration\";\r\nimport { warning, invariant } from \"@/utils\";\r\nimport { NoteData } from \"@/translation-page\";\r\nimport { TranslationResult } from \"@/dictionary\";\r\nimport { AddNoteReturnType, RelearnCardsReturnType } from \"@/anki\";\r\n\r\nlet uniqueId = 1;\r\nconst CALLBACK = \"CALLBACK\";\r\n\r\ninterface MessageData {\r\n  command: Command;\r\n  //可选\r\n  data?: any;\r\n  callbackName?: number;\r\n}\r\nexport type PostMessage = Messenger[\"postMessage\"];\r\nexport type OnMessage = Messenger[\"onMessage\"];\r\nexport class Messenger {\r\n  target?: Window;\r\n  self: Window;\r\n  callbacks: { [key: number]: FunctionAny };\r\n  handlers: { [key: string]: FunctionAny[] };\r\n\r\n  constructor(options: { self: Window; target?: Window }) {\r\n    this.self = options.self;\r\n    this.target = options.target;\r\n    this.handlers = Object.create(null);\r\n    this.callbacks = Object.create(null);\r\n    this.onMessage = this.onMessage.bind(this);\r\n    this.postMessage = this.postMessage.bind(this);\r\n  }\r\n  install = () => {\r\n    const { self } = this;\r\n    self.addEventListener(\"message\", this.handleMessage);\r\n  };\r\n  uninstall = () => {\r\n    const { self } = this;\r\n    self.removeEventListener(\"message\", this.handleMessage);\r\n  };\r\n  addTarget = (target: Window) => {\r\n    this.target = target;\r\n  };\r\n  handleMessage = (event: MessageEvent<MessageData>) => {\r\n    const { target, handlers, callbacks } = this;\r\n    const source = event.source;\r\n    const { data, command, callbackName } = event.data;\r\n    if (target !== source) return;\r\n    const callback = callbackName == null ? null : callbacks[callbackName]; // 注释一\r\n    //执行回调专用指令(回调函数响应)\r\n    //@ts-ignore 内部使用，不对外暴露\r\n    if (command === CALLBACK && callback == null) return;\r\n    //@ts-ignore 内部使用，不对外暴露\r\n    if (command === CALLBACK && callback) {\r\n      callback(data);\r\n      //@ts-ignore 根据 注释一 ,callback 存在，则 callbackName 必定不为 undefined\r\n      delete callbacks[callbackName];\r\n      return;\r\n    }\r\n\r\n    if (__DEV__) {\r\n      warning(\r\n        handlers[command] != null && handlers[command]!.length !== 0,\r\n        `对于指令 ${Command[command]} ,未添加任何处理函数`\r\n      );\r\n    }\r\n\r\n    if (handlers[command] != null) {\r\n      handlers[command]!.forEach((fn) => {\r\n        fn(data, (data: any) => {\r\n          //传递给用户的回调函数，下面是内部发送逻辑\r\n          if (callbackName != null) {\r\n            //只有设置了回调函数的指令调用该方法时才有效。\r\n            //@ts-ignore CALLBACK 为内部使用的，用于触发回调\r\n            this.postMessage(CALLBACK, data, callbackName);\r\n          }\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  //translation-page listen agent\r\n  onMessage(command: Command.BackHistory, listener: () => void): () => void;\r\n  onMessage(command: Command.ForwardHistory, listener: () => void): () => void;\r\n  onMessage(command: Command.PauseAudio, listener: () => void): () => void;\r\n  onMessage(\r\n    command: Command.OpenSelection,\r\n    listener: (data: boolean) => void\r\n  ): () => void;\r\n  onMessage(\r\n    command: Command.HiddenChinese,\r\n    listener: (data: boolean) => void\r\n  ): () => void;\r\n  onMessage(\r\n    command: Command.ShowTranslation,\r\n    listener: (data: TranslationResult, callback: () => void) => void\r\n  ): () => void;\r\n\r\n  //agent listen translation-page\r\n  onMessage(\r\n    command: Command.TranslateText,\r\n    listener: (data: string) => void\r\n  ): () => void;\r\n  onMessage(\r\n    command: Command.HistoryIndex,\r\n    listener: (data: { index: number; head: number; tail: number }) => void\r\n  ): () => void;\r\n  onMessage(\r\n    command: Command.RelearnNote,\r\n    listener: (\r\n      data: number[],\r\n      callback: (data: RelearnCardsReturnType) => void\r\n    ) => void\r\n  ): () => void;\r\n  onMessage(\r\n    command: Command.AddNote,\r\n    listener: (\r\n      data: NoteData,\r\n      callback: (data: AddNoteReturnType) => void\r\n    ) => void\r\n  ): () => void;\r\n  onMessage(command: Command, listener: FunctionAny): () => void {\r\n    const handlers = this.handlers;\r\n\r\n    if (handlers[command] == null) {\r\n      handlers[command] = [listener];\r\n    } else {\r\n      handlers[command]!.push(listener);\r\n    }\r\n    //单例\r\n    let called = false;\r\n    return function () {\r\n      if (called) return;\r\n      called = true;\r\n      handlers[command] = handlers[command]!.filter((fn) => {\r\n        return fn !== listener;\r\n      });\r\n    };\r\n  }\r\n  //agent to translation-page\r\n  postMessage(command: Command.PauseAudio): void;\r\n  postMessage(command: Command.BackHistory): void;\r\n  postMessage(command: Command.ForwardHistory): void;\r\n  postMessage(command: Command.OpenSelection, data: boolean): void;\r\n  postMessage(command: Command.HiddenChinese, data: boolean): void;\r\n  postMessage(\r\n    command: Command.ShowTranslation,\r\n    data: TranslationResult,\r\n    callback: () => void\r\n  ): void;\r\n  // translation-page to agent\r\n  postMessage(command: Command.TranslateText, data: string): void;\r\n  postMessage(\r\n    command: Command.HistoryIndex,\r\n    data: { index: number; head: number; tail: number }\r\n  ): void;\r\n  postMessage(\r\n    command: Command.RelearnNote,\r\n    data: number[],\r\n    callback: (data: RelearnCardsReturnType) => void\r\n  ): void;\r\n  postMessage(\r\n    command: Command.AddNote,\r\n    data: NoteData,\r\n    callback: (data: AddNoteReturnType) => void\r\n  ): void;\r\n  postMessage(command: Command, data?: any, callback?: FunctionAny): void {\r\n    const target = this.target;\r\n    //此处应该使用报错的 invariant 而非 warning，因为其执行会添加回调函数，如果不报错属于内存泄漏\r\n    if (!target) {\r\n      invariant(false, \"target 不存在，其在通信中是必须的\");\r\n    }\r\n    /* 因为浏览器的postMessage不提供原生的响应回调功能，因此需要自定义实现\r\n     * 设置回调时:(postMessage)\r\n     *   如果存在回调函数，则创建一个唯一的ID保存该回调函数\r\n     *   该唯一ID保存在 data.callbackName 中，随请求携带\r\n     * 执行回调时:(onMessage)\r\n     *   定义收到command为\"callback\"的指令时，调用缓存的回调函数\r\n     *   该指令的data[callbackName]应该有值，通过该值进行正确的回调匹配\r\n     */\r\n    //确保data是引用数据类型\r\n    const message: MessageData = Object.create(null);\r\n    message.data = data;\r\n    message.command = command;\r\n    //如果传递的是number，则说明该次调用是为了触发回调，因为标识是number，所以此处判断number\r\n    //与用户无关，是触发回调的内部逻辑\r\n    if (typeof callback === \"number\") {\r\n      message.callbackName = callback;\r\n    }\r\n\r\n    if (typeof callback === \"function\") {\r\n      const callbackName = uniqueId;\r\n      this.callbacks[callbackName] = callback;\r\n      message.callbackName = callbackName;\r\n      uniqueId++; //保证唯一性\r\n    }\r\n\r\n    target.postMessage(message, \"*\");\r\n  }\r\n}\r\n","/**\r\n * invariant 与 warning 的名称不应该改变，其会被 babel的 \"babel-plugin-dev-expression\" 插件替换，\r\n *  具体可看：\"https://www.npmjs.com/package/babel-plugin-dev-expression\"\r\n */\r\n\r\nexport function invariant(cond: boolean, message: string): asserts cond {\r\n  if (!cond) throw new Error(message);\r\n}\r\n\r\nexport function warning(cond: boolean, message: string) {\r\n  if (!cond) {\r\n    if (typeof console !== \"undefined\") console.warn(message);\r\n\r\n    try {\r\n      //这样的写法是为了便于调试，能够使其支持 “在遇到异常时暂停”（如果选中该调试功能的话）\r\n      throw new Error(message);\r\n      // eslint-disable-next-line no-empty\r\n    } catch (e) {}\r\n  }\r\n}\r\n","export { invariant, warning } from \"./alert\";\r\nexport { validateText } from \"./validateText\";\r\nexport { Messenger } from \"./Messenger\";\r\nexport type { PostMessage, OnMessage } from \"./Messenger\";\r\n\r\n/**\r\n * 纯函数，Object.entries()的单一版本，只提取单个键的[key,value]\r\n */\r\nexport function extractEntry<T extends object, K extends keyof T>(\r\n  target: T,\r\n  key: K\r\n): [K, T[K]] {\r\n  return [key, target[key]];\r\n}\r\n","/**\r\n * 纯函数，过滤掉无效查询\r\n *  - 字符串为空的情况\r\n *  - 查询主体并非英文\r\n * @param text\r\n * @return 返回过滤后的字符，该字符应当是符合查询要求的\r\n */\r\n export function validateText(text: string) {\r\n  text = text.trim();\r\n\r\n  //过滤为空的字符串\r\n  if (!text) return false;\r\n\r\n  //如果英文字母数量不足百分之五十，则认为其并非需要查询的内容\r\n  const amount = text.match(/\\b[a-z]+\\b/gi)?.reduce((amount, item) => {\r\n    return amount + item.length;\r\n  }, 0);\r\n  if (!amount || amount / text.length < 0.5) return false;\r\n\r\n  //过滤用户对URL的复制的查询\r\n  if (text.search(/http:|https:/gi) === 0) return false;\r\n\r\n  return true;\r\n}\r\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array ? array.length : 0;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\n/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  if (value !== value) {\n    return baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a cache value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeMax = Math.max;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, props) {\n  object = Object(object);\n  return basePickBy(object, props, function(value, key) {\n    return key in object;\n  });\n}\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick from.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, props, predicate) {\n  var index = -1,\n      length = props.length,\n      result = {};\n\n  while (++index < length) {\n    var key = props[index],\n        value = object[key];\n\n    if (predicate(value, key)) {\n      result[key] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Creates an array of the own and inherited enumerable symbol properties\n * of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * The opposite of `_.pick`; this method creates an object composed of the\n * own and inherited enumerable string keyed properties of `object` that are\n * not omitted.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [props] The property identifiers to omit.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.omit(object, ['a', 'c']);\n * // => { 'b': '2' }\n */\nvar omit = baseRest(function(object, props) {\n  if (object == null) {\n    return {};\n  }\n  props = arrayMap(baseFlatten(props, 1), toKey);\n  return basePick(object, baseDifference(getAllKeysIn(object), props));\n});\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = omit;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, props) {\n  object = Object(object);\n  return basePickBy(object, props, function(value, key) {\n    return key in object;\n  });\n}\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick from.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, props, predicate) {\n  var index = -1,\n      length = props.length,\n      result = {};\n\n  while (++index < length) {\n    var key = props[index],\n        value = object[key];\n\n    if (predicate(value, key)) {\n      result[key] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [props] The property identifiers to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = baseRest(function(object, props) {\n  return object == null ? {} : basePick(object, arrayMap(baseFlatten(props, 1), toKey));\n});\n\nmodule.exports = pick;\n","// extracted by mini-css-extract-plugin\nexport {};","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/**\n * @license React\n * use-sync-external-store-shim.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n\n          'use strict';\n\n/* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error());\n}\n          var React = require('react');\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  return x === y && (x !== 0 || 1 / x === 1 / y) || x !== x && y !== y // eslint-disable-line no-self-compare\n  ;\n}\n\nvar objectIs = typeof Object.is === 'function' ? Object.is : is;\n\n// dispatch for CommonJS interop named imports.\n\nvar useState = React.useState,\n    useEffect = React.useEffect,\n    useLayoutEffect = React.useLayoutEffect,\n    useDebugValue = React.useDebugValue;\nvar didWarnOld18Alpha = false;\nvar didWarnUncachedGetSnapshot = false; // Disclaimer: This shim breaks many of the rules of React, and only works\n// because of a very particular set of implementation details and assumptions\n// -- change any one of them and it will break. The most important assumption\n// is that updates are always synchronous, because concurrent rendering is\n// only available in versions of React that also have a built-in\n// useSyncExternalStore API. And we only use this shim when the built-in API\n// does not exist.\n//\n// Do not assume that the clever hacks used by this hook also work in general.\n// The point of this shim is to replace the need for hacks by other libraries.\n\nfunction useSyncExternalStore(subscribe, getSnapshot, // Note: The shim does not use getServerSnapshot, because pre-18 versions of\n// React do not expose a way to check if we're hydrating. So users of the shim\n// will need to track that themselves and return the correct value\n// from `getSnapshot`.\ngetServerSnapshot) {\n  {\n    if (!didWarnOld18Alpha) {\n      if (React.startTransition !== undefined) {\n        didWarnOld18Alpha = true;\n\n        error('You are using an outdated, pre-release alpha of React 18 that ' + 'does not support useSyncExternalStore. The ' + 'use-sync-external-store shim will not work correctly. Upgrade ' + 'to a newer pre-release.');\n      }\n    }\n  } // Read the current snapshot from the store on every render. Again, this\n  // breaks the rules of React, and only works here because of specific\n  // implementation details, most importantly that updates are\n  // always synchronous.\n\n\n  var value = getSnapshot();\n\n  {\n    if (!didWarnUncachedGetSnapshot) {\n      var cachedValue = getSnapshot();\n\n      if (!objectIs(value, cachedValue)) {\n        error('The result of getSnapshot should be cached to avoid an infinite loop');\n\n        didWarnUncachedGetSnapshot = true;\n      }\n    }\n  } // Because updates are synchronous, we don't queue them. Instead we force a\n  // re-render whenever the subscribed state changes by updating an some\n  // arbitrary useState hook. Then, during render, we call getSnapshot to read\n  // the current value.\n  //\n  // Because we don't actually use the state returned by the useState hook, we\n  // can save a bit of memory by storing other stuff in that slot.\n  //\n  // To implement the early bailout, we need to track some things on a mutable\n  // object. Usually, we would put that in a useRef hook, but we can stash it in\n  // our useState hook instead.\n  //\n  // To force a re-render, we call forceUpdate({inst}). That works because the\n  // new object always fails an equality check.\n\n\n  var _useState = useState({\n    inst: {\n      value: value,\n      getSnapshot: getSnapshot\n    }\n  }),\n      inst = _useState[0].inst,\n      forceUpdate = _useState[1]; // Track the latest getSnapshot function with a ref. This needs to be updated\n  // in the layout phase so we can access it during the tearing check that\n  // happens on subscribe.\n\n\n  useLayoutEffect(function () {\n    inst.value = value;\n    inst.getSnapshot = getSnapshot; // Whenever getSnapshot or subscribe changes, we need to check in the\n    // commit phase if there was an interleaved mutation. In concurrent mode\n    // this can happen all the time, but even in synchronous mode, an earlier\n    // effect may have mutated the store.\n\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({\n        inst: inst\n      });\n    }\n  }, [subscribe, value, getSnapshot]);\n  useEffect(function () {\n    // Check for changes right before subscribing. Subsequent changes will be\n    // detected in the subscription handler.\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({\n        inst: inst\n      });\n    }\n\n    var handleStoreChange = function () {\n      // TODO: Because there is no cross-renderer API for batching updates, it's\n      // up to the consumer of this library to wrap their subscription event\n      // with unstable_batchedUpdates. Should we try to detect when this isn't\n      // the case and print a warning in development?\n      // The store changed. Check if the snapshot changed since the last time we\n      // read from the store.\n      if (checkIfSnapshotChanged(inst)) {\n        // Force a re-render.\n        forceUpdate({\n          inst: inst\n        });\n      }\n    }; // Subscribe to the store and return a clean-up function.\n\n\n    return subscribe(handleStoreChange);\n  }, [subscribe]);\n  useDebugValue(value);\n  return value;\n}\n\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  var prevValue = inst.value;\n\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(prevValue, nextValue);\n  } catch (error) {\n    return true;\n  }\n}\n\nfunction useSyncExternalStore$1(subscribe, getSnapshot, getServerSnapshot) {\n  // Note: The shim does not use getServerSnapshot, because pre-18 versions of\n  // React do not expose a way to check if we're hydrating. So users of the shim\n  // will need to track that themselves and return the correct value\n  // from `getSnapshot`.\n  return getSnapshot();\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined');\n\nvar isServerEnvironment = !canUseDOM;\n\nvar shim = isServerEnvironment ? useSyncExternalStore$1 : useSyncExternalStore;\nvar useSyncExternalStore$2 = React.useSyncExternalStore !== undefined ? React.useSyncExternalStore : shim;\n\nexports.useSyncExternalStore = useSyncExternalStore$2;\n          /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error());\n}\n        \n  })();\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n\n          'use strict';\n\n/* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error());\n}\n          var React = require('react');\nvar shim = require('use-sync-external-store/shim');\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  return x === y && (x !== 0 || 1 / x === 1 / y) || x !== x && y !== y // eslint-disable-line no-self-compare\n  ;\n}\n\nvar objectIs = typeof Object.is === 'function' ? Object.is : is;\n\nvar useSyncExternalStore = shim.useSyncExternalStore;\n\n// for CommonJS interop.\n\nvar useRef = React.useRef,\n    useEffect = React.useEffect,\n    useMemo = React.useMemo,\n    useDebugValue = React.useDebugValue; // Same as useSyncExternalStore, but supports selector and isEqual arguments.\n\nfunction useSyncExternalStoreWithSelector(subscribe, getSnapshot, getServerSnapshot, selector, isEqual) {\n  // Use this to track the rendered snapshot.\n  var instRef = useRef(null);\n  var inst;\n\n  if (instRef.current === null) {\n    inst = {\n      hasValue: false,\n      value: null\n    };\n    instRef.current = inst;\n  } else {\n    inst = instRef.current;\n  }\n\n  var _useMemo = useMemo(function () {\n    // Track the memoized state using closure variables that are local to this\n    // memoized instance of a getSnapshot function. Intentionally not using a\n    // useRef hook, because that state would be shared across all concurrent\n    // copies of the hook/component.\n    var hasMemo = false;\n    var memoizedSnapshot;\n    var memoizedSelection;\n\n    var memoizedSelector = function (nextSnapshot) {\n      if (!hasMemo) {\n        // The first time the hook is called, there is no memoized result.\n        hasMemo = true;\n        memoizedSnapshot = nextSnapshot;\n\n        var _nextSelection = selector(nextSnapshot);\n\n        if (isEqual !== undefined) {\n          // Even if the selector has changed, the currently rendered selection\n          // may be equal to the new selection. We should attempt to reuse the\n          // current value if possible, to preserve downstream memoizations.\n          if (inst.hasValue) {\n            var currentSelection = inst.value;\n\n            if (isEqual(currentSelection, _nextSelection)) {\n              memoizedSelection = currentSelection;\n              return currentSelection;\n            }\n          }\n        }\n\n        memoizedSelection = _nextSelection;\n        return _nextSelection;\n      } // We may be able to reuse the previous invocation's result.\n\n\n      // We may be able to reuse the previous invocation's result.\n      var prevSnapshot = memoizedSnapshot;\n      var prevSelection = memoizedSelection;\n\n      if (objectIs(prevSnapshot, nextSnapshot)) {\n        // The snapshot is the same as last time. Reuse the previous selection.\n        return prevSelection;\n      } // The snapshot has changed, so we need to compute a new selection.\n\n\n      // The snapshot has changed, so we need to compute a new selection.\n      var nextSelection = selector(nextSnapshot); // If a custom isEqual function is provided, use that to check if the data\n      // has changed. If it hasn't, return the previous selection. That signals\n      // to React that the selections are conceptually equal, and we can bail\n      // out of rendering.\n\n      // If a custom isEqual function is provided, use that to check if the data\n      // has changed. If it hasn't, return the previous selection. That signals\n      // to React that the selections are conceptually equal, and we can bail\n      // out of rendering.\n      if (isEqual !== undefined && isEqual(prevSelection, nextSelection)) {\n        return prevSelection;\n      }\n\n      memoizedSnapshot = nextSnapshot;\n      memoizedSelection = nextSelection;\n      return nextSelection;\n    }; // Assigning this to a constant so that Flow knows it can't change.\n\n\n    // Assigning this to a constant so that Flow knows it can't change.\n    var maybeGetServerSnapshot = getServerSnapshot === undefined ? null : getServerSnapshot;\n\n    var getSnapshotWithSelector = function () {\n      return memoizedSelector(getSnapshot());\n    };\n\n    var getServerSnapshotWithSelector = maybeGetServerSnapshot === null ? undefined : function () {\n      return memoizedSelector(maybeGetServerSnapshot());\n    };\n    return [getSnapshotWithSelector, getServerSnapshotWithSelector];\n  }, [getSnapshot, getServerSnapshot, selector, isEqual]),\n      getSelection = _useMemo[0],\n      getServerSelection = _useMemo[1];\n\n  var value = useSyncExternalStore(subscribe, getSelection, getServerSelection);\n  useEffect(function () {\n    inst.hasValue = true;\n    inst.value = value;\n  }, [value]);\n  useDebugValue(value);\n  return value;\n}\n\nexports.useSyncExternalStoreWithSelector = useSyncExternalStoreWithSelector;\n          /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error());\n}\n        \n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","import createStore__default from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nexport { default as createStore } from 'zustand/vanilla';\nimport { useDebugValue } from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nfunction useStore(api, selector = api.getState, equalityFn) {\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = typeof createState === \"function\" ? createStore__default(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar create$1 = create;\n\nexport { create$1 as default, useStore };\n","import { produce } from 'immer';\n\nconst immerImpl = (initializer) => (set, get, store) => {\n  store.setState = (updater, replace, ...a) => {\n    const nextState = typeof updater === \"function\" ? produce(updater) : updater;\n    return set(nextState, replace, ...a);\n  };\n  return initializer(store.setState, get, store);\n};\nconst immer = immerImpl;\n\nexport { immer };\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (nextState !== state) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\") ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => listeners.clear();\n  const api = { setState, getState, subscribe, destroy };\n  state = createState(\n    setState,\n    getState,\n    api\n  );\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\n\nexport { createStore as default };\n","var o=(r=>(r.Space=\" \",r.Enter=\"Enter\",r.Escape=\"Escape\",r.Backspace=\"Backspace\",r.Delete=\"Delete\",r.ArrowLeft=\"ArrowLeft\",r.ArrowUp=\"ArrowUp\",r.ArrowRight=\"ArrowRight\",r.ArrowDown=\"ArrowDown\",r.Home=\"Home\",r.End=\"End\",r.PageUp=\"PageUp\",r.PageDown=\"PageDown\",r.Tab=\"Tab\",r))(o||{});export{o as Keys};\n","import _,{Fragment as Y,createContext as O,useContext as k,useMemo as E,useReducer as Z,useRef as G}from\"react\";import{render as M,Features as V,forwardRefWithAs as v}from\"../../utils/render.js\";import{useId as q}from\"../../hooks/use-id.js\";import{match as J}from\"../../utils/match.js\";import{Keys as T}from\"../../components/keyboard.js\";import{focusIn as S,Focus as m,sortByDomNode as Q}from\"../../utils/focus-management.js\";import{useIsoMorphicEffect as j}from\"../../hooks/use-iso-morphic-effect.js\";import{useSyncRefs as F}from\"../../hooks/use-sync-refs.js\";import{useResolveButtonType as ee}from\"../../hooks/use-resolve-button-type.js\";import{useLatestValue as W}from\"../../hooks/use-latest-value.js\";import{FocusSentinel as te}from\"../../internal/focus-sentinel.js\";import{useEvent as U}from\"../../hooks/use-event.js\";var re=(n=>(n[n.SetSelectedIndex=0]=\"SetSelectedIndex\",n[n.RegisterTab=1]=\"RegisterTab\",n[n.UnregisterTab=2]=\"UnregisterTab\",n[n.RegisterPanel=3]=\"RegisterPanel\",n[n.UnregisterPanel=4]=\"UnregisterPanel\",n[n.ForceRerender=5]=\"ForceRerender\",n))(re||{});let ne={[0](e,t){let r=e.tabs.filter(n=>{var l;return!((l=n.current)!=null&&l.hasAttribute(\"disabled\"))});if(t.index<0)return{...e,selectedIndex:e.tabs.indexOf(r[0])};if(t.index>e.tabs.length)return{...e,selectedIndex:e.tabs.indexOf(r[r.length-1])};let s=e.tabs.slice(0,t.index),d=[...e.tabs.slice(t.index),...s].find(n=>r.includes(n));return d?{...e,selectedIndex:e.tabs.indexOf(d)}:e},[1](e,t){return e.tabs.includes(t.tab)?e:{...e,tabs:Q([...e.tabs,t.tab],r=>r.current)}},[2](e,t){return{...e,tabs:Q(e.tabs.filter(r=>r!==t.tab),r=>r.current)}},[3](e,t){return e.panels.includes(t.panel)?e:{...e,panels:[...e.panels,t.panel]}},[4](e,t){return{...e,panels:e.panels.filter(r=>r!==t.panel)}},[5](e){return{...e}}},N=O(null);N.displayName=\"TabsSSRContext\";function B(e){let t=k(N);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,B),r}return t}let K=O(null);K.displayName=\"TabsDataContext\";function C(e){let t=k(K);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,C),r}return t}let $=O(null);$.displayName=\"TabsActionsContext\";function z(e){let t=k($);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,z),r}return t}function ae(e,t){return J(t.type,ne,e,t)}let le=Y,oe=v(function(t,r){let{defaultIndex:s=0,vertical:f=!1,manual:d=!1,onChange:n,selectedIndex:l=null,...P}=t;const u=f?\"vertical\":\"horizontal\",y=d?\"manual\":\"auto\";let c=F(r),[p,o]=Z(ae,{selectedIndex:l!=null?l:s,tabs:[],panels:[]}),b=E(()=>({selectedIndex:p.selectedIndex}),[p.selectedIndex]),g=W(n||(()=>{})),L=W(p.tabs),x=E(()=>({orientation:u,activation:y,...p}),[u,y,p]),R=W(p.selectedIndex),h=E(()=>({registerTab(i){return o({type:1,tab:i}),()=>o({type:2,tab:i})},registerPanel(i){return o({type:3,panel:i}),()=>o({type:4,panel:i})},forceRerender(){o({type:5})},change(i){R.current!==i&&g.current(i),R.current=i,o({type:0,index:i})}}),[o]);j(()=>{o({type:0,index:l!=null?l:s})},[l]);let H=G({tabs:[],panels:[]}),w={ref:c};return _.createElement(N.Provider,{value:H},_.createElement($.Provider,{value:h},_.createElement(K.Provider,{value:x},x.tabs.length<=0&&_.createElement(te,{onFocus:()=>{var i,I;for(let D of L.current)if(((i=D.current)==null?void 0:i.tabIndex)===0)return(I=D.current)==null||I.focus(),!0;return!1}}),M({ourProps:w,theirProps:P,slot:b,defaultTag:le,name:\"Tabs\"}))))}),se=\"div\",ie=v(function(t,r){let{orientation:s,selectedIndex:f}=C(\"Tab.List\"),d=F(r);return M({ourProps:{ref:d,role:\"tablist\",\"aria-orientation\":s},theirProps:t,slot:{selectedIndex:f},defaultTag:se,name:\"Tabs.List\"})}),ue=\"button\",ce=v(function(t,r){var I,D;let s=`headlessui-tabs-tab-${q()}`,{orientation:f,activation:d,selectedIndex:n,tabs:l,panels:P}=C(\"Tab\"),u=z(\"Tab\"),y=B(\"Tab\"),c=G(null),p=F(c,r,a=>{!a||u.forceRerender()});j(()=>u.registerTab(c),[u,c]);let o=y.current.tabs.indexOf(s);o===-1&&(o=y.current.tabs.push(s)-1);let b=l.indexOf(c);b===-1&&(b=o);let g=b===n,L=U(a=>{let A=l.map(X=>X.current).filter(Boolean);if(a.key===T.Space||a.key===T.Enter){a.preventDefault(),a.stopPropagation(),u.change(b);return}switch(a.key){case T.Home:case T.PageUp:return a.preventDefault(),a.stopPropagation(),S(A,m.First);case T.End:case T.PageDown:return a.preventDefault(),a.stopPropagation(),S(A,m.Last)}if(J(f,{vertical(){if(a.key===T.ArrowUp)return S(A,m.Previous|m.WrapAround);if(a.key===T.ArrowDown)return S(A,m.Next|m.WrapAround)},horizontal(){if(a.key===T.ArrowLeft)return S(A,m.Previous|m.WrapAround);if(a.key===T.ArrowRight)return S(A,m.Next|m.WrapAround)}}))return a.preventDefault()}),x=U(()=>{var a;(a=c.current)==null||a.focus()}),R=U(()=>{var a;(a=c.current)==null||a.focus(),u.change(b)}),h=U(a=>{a.preventDefault()}),H=E(()=>({selected:g}),[g]),w=t,i={ref:p,onKeyDown:L,onFocus:d===\"manual\"?x:R,onMouseDown:h,onClick:R,id:s,role:\"tab\",type:ee(t,c),\"aria-controls\":(D=(I=P[b])==null?void 0:I.current)==null?void 0:D.id,\"aria-selected\":g,tabIndex:g?0:-1};return M({ourProps:i,theirProps:w,slot:H,defaultTag:ue,name:\"Tabs.Tab\"})}),pe=\"div\",de=v(function(t,r){let{selectedIndex:s}=C(\"Tab.Panels\"),f=F(r),d=E(()=>({selectedIndex:s}),[s]);return M({ourProps:{ref:f},theirProps:t,slot:d,defaultTag:pe,name:\"Tabs.Panels\"})}),fe=\"div\",be=V.RenderStrategy|V.Static,Te=v(function(t,r){var x,R;let{selectedIndex:s,tabs:f,panels:d}=C(\"Tab.Panel\"),n=z(\"Tab.Panel\"),l=B(\"Tab.Panel\"),P=`headlessui-tabs-panel-${q()}`,u=G(null),y=F(u,r,h=>{!h||n.forceRerender()});j(()=>n.registerPanel(u),[n,u]);let c=l.current.panels.indexOf(P);c===-1&&(c=l.current.panels.push(P)-1);let p=d.indexOf(u);p===-1&&(p=c);let o=p===s,b=E(()=>({selected:o}),[o]),g=t,L={ref:y,id:P,role:\"tabpanel\",\"aria-labelledby\":(R=(x=f[p])==null?void 0:x.current)==null?void 0:R.id,tabIndex:o?0:-1};return M({ourProps:L,theirProps:g,slot:b,defaultTag:fe,features:be,visible:o,name:\"Tabs.Panel\"})}),we=Object.assign(ce,{Group:oe,List:ie,Panels:de,Panel:Te});export{we as Tab};\n","import a from\"react\";import{useLatestValue as n}from\"./use-latest-value.js\";let o=function(t){let e=n(t);return a.useCallback((...r)=>e.current(...r),[e])};export{o as useEvent};\n","var u;import t from\"react\";import{useIsoMorphicEffect as d}from\"./use-iso-morphic-effect.js\";import{useServerHandoffComplete as f}from\"./use-server-handoff-complete.js\";let l=0;function r(){return++l}let I=(u=t.useId)!=null?u:function(){let n=f(),[e,o]=t.useState(n?r:null);return d(()=>{e===null&&o(r())},[e]),e!=null?\"\"+e:void 0};export{I as useId};\n","import{useLayoutEffect as e,useEffect as f}from\"react\";let t=typeof window!=\"undefined\"?e:f;export{t as useIsoMorphicEffect};\n","import{useRef as t}from\"react\";import{useIsoMorphicEffect as o}from\"./use-iso-morphic-effect.js\";function s(e){let r=t(e);return o(()=>{r.current=e},[e]),r}export{s as useLatestValue};\n","import{useState as o}from\"react\";import{useIsoMorphicEffect as r}from\"./use-iso-morphic-effect.js\";function i(t){var n;if(t.type)return t.type;let e=(n=t.as)!=null?n:\"button\";if(typeof e==\"string\"&&e.toLowerCase()===\"button\")return\"button\"}function s(t,e){let[n,u]=o(()=>i(t));return r(()=>{u(i(t))},[t.type,t.as]),r(()=>{n||!e.current||e.current instanceof HTMLButtonElement&&!e.current.hasAttribute(\"type\")&&u(\"button\")},[n,e]),n}export{s as useResolveButtonType};\n","import{useState as o,useEffect as t}from\"react\";let r={serverHandoffComplete:!1};function a(){let[e,f]=o(r.serverHandoffComplete);return t(()=>{e!==!0&&f(!0)},[e]),t(()=>{r.serverHandoffComplete===!1&&(r.serverHandoffComplete=!0)},[]),e}export{a as useServerHandoffComplete};\n","import{useRef as l,useEffect as i}from\"react\";import{useEvent as r}from\"./use-event.js\";let u=Symbol();function T(t,n=!0){return Object.assign(t,{[u]:n})}function y(...t){let n=l(t);i(()=>{n.current=t},[t]);let c=r(e=>{for(let o of n.current)o!=null&&(typeof o==\"function\"?o(e):o.current=e)});return t.every(e=>e==null||(e==null?void 0:e[u]))?void 0:c}export{T as optionalRef,y as useSyncRefs};\n","import i,{useState as s}from\"react\";import{Hidden as c,Features as l}from\"./hidden.js\";function p({onFocus:n}){let[r,o]=s(!0);return r?i.createElement(c,{as:\"button\",type:\"button\",features:l.Focusable,onFocus:a=>{a.preventDefault();let e,u=50;function t(){if(u--<=0){e&&cancelAnimationFrame(e);return}if(n()){o(!1),cancelAnimationFrame(e);return}e=requestAnimationFrame(t)}e=requestAnimationFrame(t)}}):null}export{p as FocusSentinel};\n","import{forwardRefWithAs as n,render as i}from\"../utils/render.js\";let a=\"div\";var s=(e=>(e[e.None=1]=\"None\",e[e.Focusable=2]=\"Focusable\",e[e.Hidden=4]=\"Hidden\",e))(s||{});let h=n(function(t,o){let{features:e=1,...r}=t,d={ref:o,\"aria-hidden\":(e&2)===2?!0:void 0,style:{position:\"absolute\",width:1,height:1,padding:0,margin:-1,overflow:\"hidden\",clip:\"rect(0, 0, 0, 0)\",whiteSpace:\"nowrap\",borderWidth:\"0\",...(e&4)===4&&(e&2)!==2&&{display:\"none\"}}};return i({ourProps:d,theirProps:r,slot:{},defaultTag:a,name:\"Hidden\"})});export{s as Features,h as Hidden};\n","import{match as x}from\"./match.js\";import{getOwnerDocument as E}from\"./owner.js\";let f=[\"[contentEditable=true]\",\"[tabindex]\",\"a[href]\",\"area[href]\",\"button:not([disabled])\",\"iframe\",\"input:not([disabled])\",\"select:not([disabled])\",\"textarea:not([disabled])\"].map(e=>`${e}:not([tabindex='-1'])`).join(\",\");var p=(o=>(o[o.First=1]=\"First\",o[o.Previous=2]=\"Previous\",o[o.Next=4]=\"Next\",o[o.Last=8]=\"Last\",o[o.WrapAround=16]=\"WrapAround\",o[o.NoScroll=32]=\"NoScroll\",o))(p||{}),L=(n=>(n[n.Error=0]=\"Error\",n[n.Overflow=1]=\"Overflow\",n[n.Success=2]=\"Success\",n[n.Underflow=3]=\"Underflow\",n))(L||{}),N=(t=>(t[t.Previous=-1]=\"Previous\",t[t.Next=1]=\"Next\",t))(N||{});function T(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(f))}var b=(t=>(t[t.Strict=0]=\"Strict\",t[t.Loose=1]=\"Loose\",t))(b||{});function S(e,r=0){var t;return e===((t=E(e))==null?void 0:t.body)?!1:x(r,{[0](){return e.matches(f)},[1](){let l=e;for(;l!==null;){if(l.matches(f))return!0;l=l.parentElement}return!1}})}function F(e){e==null||e.focus({preventScroll:!0})}let M=[\"textarea\",\"input\"].join(\",\");function h(e){var r,t;return(t=(r=e==null?void 0:e.matches)==null?void 0:r.call(e,M))!=null?t:!1}function v(e,r=t=>t){return e.slice().sort((t,l)=>{let n=r(t),i=r(l);if(n===null||i===null)return 0;let o=n.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function H(e,r,t=!0){let l=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,n=Array.isArray(e)?t?v(e):e:T(e),i=l.activeElement,o=(()=>{if(r&5)return 1;if(r&10)return-1;throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\")})(),d=(()=>{if(r&1)return 0;if(r&2)return Math.max(0,n.indexOf(i))-1;if(r&4)return Math.max(0,n.indexOf(i))+1;if(r&8)return n.length-1;throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\")})(),m=r&32?{preventScroll:!0}:{},c=0,s=n.length,u;do{if(c>=s||c+s<=0)return 0;let a=d+c;if(r&16)a=(a+s)%s;else{if(a<0)return 3;if(a>=s)return 1}u=n[a],u==null||u.focus(m),c+=o}while(u!==l.activeElement);return r&6&&h(u)&&u.select(),u.hasAttribute(\"tabindex\")||u.setAttribute(\"tabindex\",\"0\"),2}export{p as Focus,L as FocusResult,b as FocusableMode,F as focusElement,H as focusIn,T as getFocusableElements,S as isFocusableElement,v as sortByDomNode};\n","function u(r,n,...a){if(r in n){let e=n[r];return typeof e==\"function\"?e(...a):e}let t=new Error(`Tried to handle \"${r}\" but there is no handler defined. Only defined handlers are: ${Object.keys(n).map(e=>`\"${e}\"`).join(\", \")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,u),t}export{u as match};\n","function t(n){return typeof window==\"undefined\"?null:n instanceof Node?n.ownerDocument:n!=null&&n.hasOwnProperty(\"current\")&&n.current instanceof Node?n.current.ownerDocument:document}export{t as getOwnerDocument};\n","import{Fragment as c,cloneElement as T,createElement as F,forwardRef as h,isValidElement as P}from\"react\";import{match as b}from\"./match.js\";var x=(n=>(n[n.None=0]=\"None\",n[n.RenderStrategy=1]=\"RenderStrategy\",n[n.Static=2]=\"Static\",n))(x||{}),R=(e=>(e[e.Unmount=0]=\"Unmount\",e[e.Hidden=1]=\"Hidden\",e))(R||{});function _({ourProps:r,theirProps:t,slot:e,defaultTag:n,features:a,visible:s=!0,name:l}){let o=y(t,r);if(s)return f(o,e,n,l);let d=a!=null?a:0;if(d&2){let{static:i=!1,...u}=o;if(i)return f(u,e,n,l)}if(d&1){let{unmount:i=!0,...u}=o;return b(i?0:1,{[0](){return null},[1](){return f({...u,hidden:!0,style:{display:\"none\"}},e,n,l)}})}return f(o,e,n,l)}function f(r,t={},e,n){let{as:a=e,children:s,refName:l=\"ref\",...o}=m(r,[\"unmount\",\"static\"]),d=r.ref!==void 0?{[l]:r.ref}:{},i=typeof s==\"function\"?s(t):s;o.className&&typeof o.className==\"function\"&&(o.className=o.className(t));let u={};if(a===c&&Object.keys(g(o)).length>0){if(!P(i)||Array.isArray(i)&&i.length>1)throw new Error(['Passing props on \"Fragment\"!',\"\",`The current component <${n} /> is rendering a \"Fragment\".`,\"However we need to passthrough the following props:\",Object.keys(o).map(p=>`  - ${p}`).join(`\n`),\"\",\"You can apply a few solutions:\",['Add an `as=\"...\"` prop, to ensure that we render an actual element instead of a \"Fragment\".',\"Render a single element as the child so that we can forward the props onto that element.\"].map(p=>`  - ${p}`).join(`\n`)].join(`\n`));return T(i,Object.assign({},y(i.props,g(m(o,[\"ref\"]))),u,d))}return F(a,Object.assign({},m(o,[\"ref\"]),a!==c&&d,a!==c&&u),i)}function y(...r){var n;if(r.length===0)return{};if(r.length===1)return r[0];let t={},e={};for(let a of r)for(let s in a)s.startsWith(\"on\")&&typeof a[s]==\"function\"?((n=e[s])!=null||(e[s]=[]),e[s].push(a[s])):t[s]=a[s];if(t.disabled||t[\"aria-disabled\"])return Object.assign(t,Object.fromEntries(Object.keys(e).map(a=>[a,void 0])));for(let a in e)Object.assign(t,{[a](s,...l){let o=e[a];for(let d of o){if(s.defaultPrevented)return;d(s,...l)}}});return t}function H(r){var t;return Object.assign(h(r),{displayName:(t=r.displayName)!=null?t:r.name})}function g(r){let t=Object.assign({},r);for(let e in t)t[e]===void 0&&delete t[e];return t}function m(r,t=[]){let e=Object.assign({},r);for(let n of t)n in e&&delete e[n];return e}export{x as Features,R as RenderStrategy,g as compact,H as forwardRefWithAs,_ as render};\n","function n(n){for(var r=arguments.length,t=Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];if(\"production\"!==process.env.NODE_ENV){var i=Y[n],o=i?\"function\"==typeof i?i.apply(null,t):i:\"unknown error nr: \"+n;throw Error(\"[Immer] \"+o)}throw Error(\"[Immer] minified error nr: \"+n+(t.length?\" \"+t.map((function(n){return\"'\"+n+\"'\"})).join(\",\"):\"\")+\". Find the full error at: https://bit.ly/3cXEKWf\")}function r(n){return!!n&&!!n[Q]}function t(n){return!!n&&(function(n){if(!n||\"object\"!=typeof n)return!1;var r=Object.getPrototypeOf(n);if(null===r)return!0;var t=Object.hasOwnProperty.call(r,\"constructor\")&&r.constructor;return t===Object||\"function\"==typeof t&&Function.toString.call(t)===Z}(n)||Array.isArray(n)||!!n[L]||!!n.constructor[L]||s(n)||v(n))}function e(t){return r(t)||n(23,t),t[Q].t}function i(n,r,t){void 0===t&&(t=!1),0===o(n)?(t?Object.keys:nn)(n).forEach((function(e){t&&\"symbol\"==typeof e||r(e,n[e],n)})):n.forEach((function(t,e){return r(e,t,n)}))}function o(n){var r=n[Q];return r?r.i>3?r.i-4:r.i:Array.isArray(n)?1:s(n)?2:v(n)?3:0}function u(n,r){return 2===o(n)?n.has(r):Object.prototype.hasOwnProperty.call(n,r)}function a(n,r){return 2===o(n)?n.get(r):n[r]}function f(n,r,t){var e=o(n);2===e?n.set(r,t):3===e?(n.delete(r),n.add(t)):n[r]=t}function c(n,r){return n===r?0!==n||1/n==1/r:n!=n&&r!=r}function s(n){return X&&n instanceof Map}function v(n){return q&&n instanceof Set}function p(n){return n.o||n.t}function l(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var r=rn(n);delete r[Q];for(var t=nn(r),e=0;e<t.length;e++){var i=t[e],o=r[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),r)}function d(n,e){return void 0===e&&(e=!1),y(n)||r(n)||!t(n)?n:(o(n)>1&&(n.set=n.add=n.clear=n.delete=h),Object.freeze(n),e&&i(n,(function(n,r){return d(r,!0)}),!0),n)}function h(){n(2)}function y(n){return null==n||\"object\"!=typeof n||Object.isFrozen(n)}function b(r){var t=tn[r];return t||n(18,r),t}function m(n,r){tn[n]||(tn[n]=r)}function _(){return\"production\"===process.env.NODE_ENV||U||n(0),U}function j(n,r){r&&(b(\"Patches\"),n.u=[],n.s=[],n.v=r)}function O(n){g(n),n.p.forEach(S),n.p=null}function g(n){n===U&&(U=n.l)}function w(n){return U={p:[],l:U,h:n,m:!0,_:0}}function S(n){var r=n[Q];0===r.i||1===r.i?r.j():r.O=!0}function P(r,e){e._=e.p.length;var i=e.p[0],o=void 0!==r&&r!==i;return e.h.g||b(\"ES5\").S(e,r,o),o?(i[Q].P&&(O(e),n(4)),t(r)&&(r=M(e,r),e.l||x(e,r)),e.u&&b(\"Patches\").M(i[Q].t,r,e.u,e.s)):r=M(e,i,[]),O(e),e.u&&e.v(e.u,e.s),r!==H?r:void 0}function M(n,r,t){if(y(r))return r;var e=r[Q];if(!e)return i(r,(function(i,o){return A(n,e,r,i,o,t)}),!0),r;if(e.A!==n)return r;if(!e.P)return x(n,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=l(e.k):e.o;i(3===e.i?new Set(o):o,(function(r,i){return A(n,e,o,r,i,t)})),x(n,o,!1),t&&n.u&&b(\"Patches\").R(e,t,n.u,n.s)}return e.o}function A(e,i,o,a,c,s){if(\"production\"!==process.env.NODE_ENV&&c===o&&n(5),r(c)){var v=M(e,c,s&&i&&3!==i.i&&!u(i.D,a)?s.concat(a):void 0);if(f(o,a,v),!r(v))return;e.m=!1}if(t(c)&&!y(c)){if(!e.h.F&&e._<1)return;M(e,c),i&&i.A.l||x(e,c)}}function x(n,r,t){void 0===t&&(t=!1),n.h.F&&n.m&&d(r,t)}function z(n,r){var t=n[Q];return(t?p(t):n)[r]}function I(n,r){if(r in n)for(var t=Object.getPrototypeOf(n);t;){var e=Object.getOwnPropertyDescriptor(t,r);if(e)return e;t=Object.getPrototypeOf(t)}}function k(n){n.P||(n.P=!0,n.l&&k(n.l))}function E(n){n.o||(n.o=l(n.t))}function R(n,r,t){var e=s(r)?b(\"MapSet\").N(r,t):v(r)?b(\"MapSet\").T(r,t):n.g?function(n,r){var t=Array.isArray(n),e={i:t?1:0,A:r?r.A:_(),P:!1,I:!1,D:{},l:r,t:n,k:null,o:null,j:null,C:!1},i=e,o=en;t&&(i=[e],o=on);var u=Proxy.revocable(i,o),a=u.revoke,f=u.proxy;return e.k=f,e.j=a,f}(r,t):b(\"ES5\").J(r,t);return(t?t.A:_()).p.push(e),e}function D(e){return r(e)||n(22,e),function n(r){if(!t(r))return r;var e,u=r[Q],c=o(r);if(u){if(!u.P&&(u.i<4||!b(\"ES5\").K(u)))return u.t;u.I=!0,e=F(r,c),u.I=!1}else e=F(r,c);return i(e,(function(r,t){u&&a(u.t,r)===t||f(e,r,n(t))})),3===c?new Set(e):e}(e)}function F(n,r){switch(r){case 2:return new Map(n);case 3:return Array.from(n)}return l(n)}function N(){function t(n,r){var t=s[n];return t?t.enumerable=r:s[n]=t={configurable:!0,enumerable:r,get:function(){var r=this[Q];return\"production\"!==process.env.NODE_ENV&&f(r),en.get(r,n)},set:function(r){var t=this[Q];\"production\"!==process.env.NODE_ENV&&f(t),en.set(t,n,r)}},t}function e(n){for(var r=n.length-1;r>=0;r--){var t=n[r][Q];if(!t.P)switch(t.i){case 5:a(t)&&k(t);break;case 4:o(t)&&k(t)}}}function o(n){for(var r=n.t,t=n.k,e=nn(t),i=e.length-1;i>=0;i--){var o=e[i];if(o!==Q){var a=r[o];if(void 0===a&&!u(r,o))return!0;var f=t[o],s=f&&f[Q];if(s?s.t!==a:!c(f,a))return!0}}var v=!!r[Q];return e.length!==nn(r).length+(v?0:1)}function a(n){var r=n.k;if(r.length!==n.t.length)return!0;var t=Object.getOwnPropertyDescriptor(r,r.length-1);if(t&&!t.get)return!0;for(var e=0;e<r.length;e++)if(!r.hasOwnProperty(e))return!0;return!1}function f(r){r.O&&n(3,JSON.stringify(p(r)))}var s={};m(\"ES5\",{J:function(n,r){var e=Array.isArray(n),i=function(n,r){if(n){for(var e=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(e,\"\"+i,t(i,!0));return e}var o=rn(r);delete o[Q];for(var u=nn(o),a=0;a<u.length;a++){var f=u[a];o[f]=t(f,n||!!o[f].enumerable)}return Object.create(Object.getPrototypeOf(r),o)}(e,n),o={i:e?5:4,A:r?r.A:_(),P:!1,I:!1,D:{},l:r,t:n,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,Q,{value:o,writable:!0}),i},S:function(n,t,o){o?r(t)&&t[Q].A===n&&e(n.p):(n.u&&function n(r){if(r&&\"object\"==typeof r){var t=r[Q];if(t){var e=t.t,o=t.k,f=t.D,c=t.i;if(4===c)i(o,(function(r){r!==Q&&(void 0!==e[r]||u(e,r)?f[r]||n(o[r]):(f[r]=!0,k(t)))})),i(e,(function(n){void 0!==o[n]||u(o,n)||(f[n]=!1,k(t))}));else if(5===c){if(a(t)&&(k(t),f.length=!0),o.length<e.length)for(var s=o.length;s<e.length;s++)f[s]=!1;else for(var v=e.length;v<o.length;v++)f[v]=!0;for(var p=Math.min(o.length,e.length),l=0;l<p;l++)o.hasOwnProperty(l)||(f[l]=!0),void 0===f[l]&&n(o[l])}}}}(n.p[0]),e(n.p))},K:function(n){return 4===n.i?o(n):a(n)}})}function T(){function e(n){if(!t(n))return n;if(Array.isArray(n))return n.map(e);if(s(n))return new Map(Array.from(n.entries()).map((function(n){return[n[0],e(n[1])]})));if(v(n))return new Set(Array.from(n).map(e));var r=Object.create(Object.getPrototypeOf(n));for(var i in n)r[i]=e(n[i]);return u(n,L)&&(r[L]=n[L]),r}function f(n){return r(n)?e(n):n}var c=\"add\";m(\"Patches\",{$:function(r,t){return t.forEach((function(t){for(var i=t.path,u=t.op,f=r,s=0;s<i.length-1;s++){var v=o(f),p=\"\"+i[s];0!==v&&1!==v||\"__proto__\"!==p&&\"constructor\"!==p||n(24),\"function\"==typeof f&&\"prototype\"===p&&n(24),\"object\"!=typeof(f=a(f,p))&&n(15,i.join(\"/\"))}var l=o(f),d=e(t.value),h=i[i.length-1];switch(u){case\"replace\":switch(l){case 2:return f.set(h,d);case 3:n(16);default:return f[h]=d}case c:switch(l){case 1:return\"-\"===h?f.push(d):f.splice(h,0,d);case 2:return f.set(h,d);case 3:return f.add(d);default:return f[h]=d}case\"remove\":switch(l){case 1:return f.splice(h,1);case 2:return f.delete(h);case 3:return f.delete(t.value);default:return delete f[h]}default:n(17,u)}})),r},R:function(n,r,t,e){switch(n.i){case 0:case 4:case 2:return function(n,r,t,e){var o=n.t,s=n.o;i(n.D,(function(n,i){var v=a(o,n),p=a(s,n),l=i?u(o,n)?\"replace\":c:\"remove\";if(v!==p||\"replace\"!==l){var d=r.concat(n);t.push(\"remove\"===l?{op:l,path:d}:{op:l,path:d,value:p}),e.push(l===c?{op:\"remove\",path:d}:\"remove\"===l?{op:c,path:d,value:f(v)}:{op:\"replace\",path:d,value:f(v)})}}))}(n,r,t,e);case 5:case 1:return function(n,r,t,e){var i=n.t,o=n.D,u=n.o;if(u.length<i.length){var a=[u,i];i=a[0],u=a[1];var s=[e,t];t=s[0],e=s[1]}for(var v=0;v<i.length;v++)if(o[v]&&u[v]!==i[v]){var p=r.concat([v]);t.push({op:\"replace\",path:p,value:f(u[v])}),e.push({op:\"replace\",path:p,value:f(i[v])})}for(var l=i.length;l<u.length;l++){var d=r.concat([l]);t.push({op:c,path:d,value:f(u[l])})}i.length<u.length&&e.push({op:\"replace\",path:r.concat([\"length\"]),value:i.length})}(n,r,t,e);case 3:return function(n,r,t,e){var i=n.t,o=n.o,u=0;i.forEach((function(n){if(!o.has(n)){var i=r.concat([u]);t.push({op:\"remove\",path:i,value:n}),e.unshift({op:c,path:i,value:n})}u++})),u=0,o.forEach((function(n){if(!i.has(n)){var o=r.concat([u]);t.push({op:c,path:o,value:n}),e.unshift({op:\"remove\",path:o,value:n})}u++}))}(n,r,t,e)}},M:function(n,r,t,e){t.push({op:\"replace\",path:[],value:r===H?void 0:r}),e.push({op:\"replace\",path:[],value:n})}})}function C(){function r(n,r){function t(){this.constructor=n}a(n,r),n.prototype=(t.prototype=r.prototype,new t)}function e(n){n.o||(n.D=new Map,n.o=new Map(n.t))}function o(n){n.o||(n.o=new Set,n.t.forEach((function(r){if(t(r)){var e=R(n.A.h,r,n);n.p.set(r,e),n.o.add(e)}else n.o.add(r)})))}function u(r){r.O&&n(3,JSON.stringify(p(r)))}var a=function(n,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])})(n,r)},f=function(){function n(n,r){return this[Q]={i:2,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,D:void 0,t:n,k:this,C:!1,O:!1},this}r(n,Map);var o=n.prototype;return Object.defineProperty(o,\"size\",{get:function(){return p(this[Q]).size}}),o.has=function(n){return p(this[Q]).has(n)},o.set=function(n,r){var t=this[Q];return u(t),p(t).has(n)&&p(t).get(n)===r||(e(t),k(t),t.D.set(n,!0),t.o.set(n,r),t.D.set(n,!0)),this},o.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),e(r),k(r),r.t.has(n)?r.D.set(n,!1):r.D.delete(n),r.o.delete(n),!0},o.clear=function(){var n=this[Q];u(n),p(n).size&&(e(n),k(n),n.D=new Map,i(n.t,(function(r){n.D.set(r,!1)})),n.o.clear())},o.forEach=function(n,r){var t=this;p(this[Q]).forEach((function(e,i){n.call(r,t.get(i),i,t)}))},o.get=function(n){var r=this[Q];u(r);var i=p(r).get(n);if(r.I||!t(i))return i;if(i!==r.t.get(n))return i;var o=R(r.A.h,i,r);return e(r),r.o.set(n,o),o},o.keys=function(){return p(this[Q]).keys()},o.values=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.values()},n.next=function(){var n=t.next();return n.done?n:{done:!1,value:r.get(n.value)}},n},o.entries=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.entries()},n.next=function(){var n=t.next();if(n.done)return n;var e=r.get(n.value);return{done:!1,value:[n.value,e]}},n},o[V]=function(){return this.entries()},n}(),c=function(){function n(n,r){return this[Q]={i:3,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,t:n,k:this,p:new Map,O:!1,C:!1},this}r(n,Set);var t=n.prototype;return Object.defineProperty(t,\"size\",{get:function(){return p(this[Q]).size}}),t.has=function(n){var r=this[Q];return u(r),r.o?!!r.o.has(n)||!(!r.p.has(n)||!r.o.has(r.p.get(n))):r.t.has(n)},t.add=function(n){var r=this[Q];return u(r),this.has(n)||(o(r),k(r),r.o.add(n)),this},t.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),o(r),k(r),r.o.delete(n)||!!r.p.has(n)&&r.o.delete(r.p.get(n))},t.clear=function(){var n=this[Q];u(n),p(n).size&&(o(n),k(n),n.o.clear())},t.values=function(){var n=this[Q];return u(n),o(n),n.o.values()},t.entries=function(){var n=this[Q];return u(n),o(n),n.o.entries()},t.keys=function(){return this.values()},t[V]=function(){return this.values()},t.forEach=function(n,r){for(var t=this.values(),e=t.next();!e.done;)n.call(r,e.value,e.value,this),e=t.next()},n}();m(\"MapSet\",{N:function(n,r){return new f(n,r)},T:function(n,r){return new c(n,r)}})}function J(){N(),C(),T()}function K(n){return n}function $(n){return n}var G,U,W=\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol(\"x\"),X=\"undefined\"!=typeof Map,q=\"undefined\"!=typeof Set,B=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,H=W?Symbol.for(\"immer-nothing\"):((G={})[\"immer-nothing\"]=!0,G),L=W?Symbol.for(\"immer-draftable\"):\"__$immer_draftable\",Q=W?Symbol.for(\"immer-state\"):\"__$immer_state\",V=\"undefined\"!=typeof Symbol&&Symbol.iterator||\"@@iterator\",Y={0:\"Illegal state\",1:\"Immer drafts cannot have computed properties\",2:\"This object has been frozen and should not be mutated\",3:function(n){return\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \"+n},4:\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",5:\"Immer forbids circular references\",6:\"The first or second argument to `produce` must be a function\",7:\"The third argument to `produce` must be a function or undefined\",8:\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",9:\"First argument to `finishDraft` must be a draft returned by `createDraft`\",10:\"The given draft is already finalized\",11:\"Object.defineProperty() cannot be used on an Immer draft\",12:\"Object.setPrototypeOf() cannot be used on an Immer draft\",13:\"Immer only supports deleting array indices\",14:\"Immer only supports setting array indices and the 'length' property\",15:function(n){return\"Cannot apply patch, path doesn't resolve: \"+n},16:'Sets cannot have \"replace\" patches.',17:function(n){return\"Unsupported patch operation: \"+n},18:function(n){return\"The plugin for '\"+n+\"' has not been loaded into Immer. To enable the plugin, import and call `enable\"+n+\"()` when initializing your application.\"},20:\"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",21:function(n){return\"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '\"+n+\"'\"},22:function(n){return\"'current' expects a draft, got: \"+n},23:function(n){return\"'original' expects a draft, got: \"+n},24:\"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"},Z=\"\"+Object.prototype.constructor,nn=\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(n){var r={};return nn(n).forEach((function(t){r[t]=Object.getOwnPropertyDescriptor(n,t)})),r},tn={},en={get:function(n,r){if(r===Q)return n;var e=p(n);if(!u(e,r))return function(n,r,t){var e,i=I(r,t);return i?\"value\"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(n.k):void 0}(n,e,r);var i=e[r];return n.I||!t(i)?i:i===z(n.t,r)?(E(n),n.o[r]=R(n.A.h,i,n)):i},has:function(n,r){return r in p(n)},ownKeys:function(n){return Reflect.ownKeys(p(n))},set:function(n,r,t){var e=I(p(n),r);if(null==e?void 0:e.set)return e.set.call(n.k,t),!0;if(!n.P){var i=z(p(n),r),o=null==i?void 0:i[Q];if(o&&o.t===t)return n.o[r]=t,n.D[r]=!1,!0;if(c(t,i)&&(void 0!==t||u(n.t,r)))return!0;E(n),k(n)}return n.o[r]===t&&\"number\"!=typeof t&&(void 0!==t||r in n.o)||(n.o[r]=t,n.D[r]=!0,!0)},deleteProperty:function(n,r){return void 0!==z(n.t,r)||r in n.t?(n.D[r]=!1,E(n),k(n)):delete n.D[r],n.o&&delete n.o[r],!0},getOwnPropertyDescriptor:function(n,r){var t=p(n),e=Reflect.getOwnPropertyDescriptor(t,r);return e?{writable:!0,configurable:1!==n.i||\"length\"!==r,enumerable:e.enumerable,value:t[r]}:e},defineProperty:function(){n(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){n(12)}},on={};i(en,(function(n,r){on[n]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}})),on.deleteProperty=function(r,t){return\"production\"!==process.env.NODE_ENV&&isNaN(parseInt(t))&&n(13),on.set.call(this,r,t,void 0)},on.set=function(r,t,e){return\"production\"!==process.env.NODE_ENV&&\"length\"!==t&&isNaN(parseInt(t))&&n(14),en.set.call(this,r[0],t,e,r[0])};var un=function(){function e(r){var e=this;this.g=B,this.F=!0,this.produce=function(r,i,o){if(\"function\"==typeof r&&\"function\"!=typeof i){var u=i;i=r;var a=e;return function(n){var r=this;void 0===n&&(n=u);for(var t=arguments.length,e=Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];return a.produce(n,(function(n){var t;return(t=i).call.apply(t,[r,n].concat(e))}))}}var f;if(\"function\"!=typeof i&&n(6),void 0!==o&&\"function\"!=typeof o&&n(7),t(r)){var c=w(e),s=R(e,r,void 0),v=!0;try{f=i(s),v=!1}finally{v?O(c):g(c)}return\"undefined\"!=typeof Promise&&f instanceof Promise?f.then((function(n){return j(c,o),P(n,c)}),(function(n){throw O(c),n})):(j(c,o),P(f,c))}if(!r||\"object\"!=typeof r){if(void 0===(f=i(r))&&(f=r),f===H&&(f=void 0),e.F&&d(f,!0),o){var p=[],l=[];b(\"Patches\").M(r,f,p,l),o(p,l)}return f}n(21,r)},this.produceWithPatches=function(n,r){if(\"function\"==typeof n)return function(r){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return e.produceWithPatches(r,(function(r){return n.apply(void 0,[r].concat(i))}))};var t,i,o=e.produce(n,r,(function(n,r){t=n,i=r}));return\"undefined\"!=typeof Promise&&o instanceof Promise?o.then((function(n){return[n,t,i]})):[o,t,i]},\"boolean\"==typeof(null==r?void 0:r.useProxies)&&this.setUseProxies(r.useProxies),\"boolean\"==typeof(null==r?void 0:r.autoFreeze)&&this.setAutoFreeze(r.autoFreeze)}var i=e.prototype;return i.createDraft=function(e){t(e)||n(8),r(e)&&(e=D(e));var i=w(this),o=R(this,e,void 0);return o[Q].C=!0,g(i),o},i.finishDraft=function(r,t){var e=r&&r[Q];\"production\"!==process.env.NODE_ENV&&(e&&e.C||n(9),e.I&&n(10));var i=e.A;return j(i,t),P(void 0,i)},i.setAutoFreeze=function(n){this.F=n},i.setUseProxies=function(r){r&&!B&&n(20),this.g=r},i.applyPatches=function(n,t){var e;for(e=t.length-1;e>=0;e--){var i=t[e];if(0===i.path.length&&\"replace\"===i.op){n=i.value;break}}e>-1&&(t=t.slice(e+1));var o=b(\"Patches\").$;return r(n)?o(n,t):this.produce(n,(function(n){return o(n,t)}))},e}(),an=new un,fn=an.produce,cn=an.produceWithPatches.bind(an),sn=an.setAutoFreeze.bind(an),vn=an.setUseProxies.bind(an),pn=an.applyPatches.bind(an),ln=an.createDraft.bind(an),dn=an.finishDraft.bind(an);export default fn;export{un as Immer,pn as applyPatches,K as castDraft,$ as castImmutable,ln as createDraft,D as current,J as enableAllPlugins,N as enableES5,C as enableMapSet,T as enablePatches,dn as finishDraft,d as freeze,L as immerable,r as isDraft,t as isDraftable,H as nothing,e as original,fn as produce,cn as produceWithPatches,sn as setAutoFreeze,vn as setUseProxies};\n//# sourceMappingURL=immer.esm.js.map\n"],"names":["omit","getStorageByArray","onStorageChange","isAnkiResponse","createDuplicateResponse","createForgottenResponse","createAnkiErrorResponse","createOldVersionResponse","createSuccessAnkiResponse","createConfigErrorResponse","createDisconnectionResponse","createFirstAddSuccessResponse","createUnexpectedErrorResponse","getConfigName","getMediaFields","getNotMediaFields","getDuplicateConfigName","NoteType","Action","AnkiConnection","version","ankiConfig","config","updateAnkiConfig","wordConfig","_","phraseConfig","sentenceConfig","ankiConnectionURL","checkPhraseDuplicate","checkSentenceDuplicate","checkWordDuplicate","addNote","_addErrorCatch","_addNote","getVersion","_getVersion","getDeckNames","_getDeckNames","relearnCards","_relearnCards","getModelNames","_getModelNames","getModelFieldNames","_getModelFieldNames","executor","args","result","apply","e","console","error","Error","data","type","Word","Phrase","Sentence","_testSecurity","note","_formatData","_handleDuplicate","configName","deckName","deckNames","includes","modelName","modelNames","modelFieldNames","fieldNames","Object","values","isEmpty","every","val","includesAll","duplicateConfigName","duplicateConfig","query","entries","reduce","key","fieldName","content","cardIds","_findCards","length","cardId","_request","AddNote","FindCards","cards","RelearnCards","ModelNames","DeckNames","ModelFieldNames","Version","tags","audio","fields","trim","split","options","allowDuplicate","duplicateScope","duplicateScopeOptions","checkChildren","checkAllModels","action","params","Promise","resolve","reject","xhr","XMLHttpRequest","addEventListener","response","JSON","parse","responseText","getOwnPropertyNames","prototype","hasOwnProperty","call","open","send","stringify","AnkiResponseStatus","COMMON_CONFIG_MAP","createAnkiResponse","assign","__isAnkiResponse__","target","message","status","Success","Disconnect","Forgotten","Duplicate","FirstAddSuccess","ConfigError","OldVersion","UnexpectedError","configNames","getMediaNames","wordMedias","phraseMedias","sentenceMedias","mediaNames","modelFieldsMap","field","url","push","filename","encodeURIComponent","fieldKey","fieldValue","Command","WORD_FIELDS_MAP","PHRASE_FIELDS_MAP","SENTENCE_FIELDS_MAP","ANKI_CONNECTION_MAP","DEFAULT_ANKI_CONNECTION_URL","definition","word","translation","part_of_speech","definition_audio","am","en","am_audio","en_audio","star_amount","example_audio","example_sentence","example_sentence_translation","phrase","phrase_audio","translations","example_audio_1","example_audio_2","example_audio_3","example_sentence_1","example_sentence_2","example_sentence_3","example_sentence_translation_1","example_sentence_translation_2","example_sentence_translation_3","sentence","sentence_audio","sentence_translation","ankiConnectionMethod","freeze","setBadgeText","details","callback","chrome","browserAction","onCommand","handlerObject","commands","addListener","command","handler","StrictOnCommand","runtime","getManifest","commandNames","keys","forEach","addContextMenuItem","createProperties","contextMenus","create","onContextMenuClick","onClicked","getStorageByObject","setStorage","executeScript","postFrontend","postBackend","onMessage","getURL","openOptionsPage","TabPanelName","name","sendMessage","sender","_sendResponse","called","sendResponse","then","pick","defaultStorage","switchHotkeyAndSelectionListener","hotKey","openSelection","hiddenChinese","checkedTabPanel","Home","switchStrengthenSelectionByPressedCtrl","handlersIsArray","handlers","Array","isArray","getStorage","storageKeys","storage","local","get","cacheValue","names","listener","changes","oldValue","newValue","onChanged","removeListener","partialStorage","set","tabs","active","tab","id","React","useMemo","ConfigType","useStorageStore","useAnkiStore","TagsItem","SelectItem","H3","Fieldset","extractEntry","AnkiConfig","memo","props","configType","state","updateConfig","updateDuplicateConfig","modelValue","fieldNamesObject","undefined","disabled","connected","headerTitle","modelFieldObject","deckText","modelText","tagsName","tagsText","map","text","useCallback","Label","Select","Input","BasisConfig","ConnectionMethod","value","concat","ConnectionURL","update","updateOtherConfig","handleChange","event","handleClick","useEffect","classJoin","Tab","ConfigTabs","onChange","selectedIndex","classNameCallback","selected","useState","ankiStoreSubscribe","Loading","Button","Footer","alertMessages","fetchAnki","isNil","isRefreshing","setIsRefreshing","refresh","unsubscribe","isSaving","setIsSaving","saveOptions","setTimeout","window","close","OptionsPage","className","duplicateValue","checked","other","containValue","Options","children","TagsInput","StrictMode","createRoot","fetchStorage","storageStoreSubscribe","root","document","getElementById","classList","add","render","forwardRef","ref","GetVersion","status0","message0","GetDeckNames","status1","message1","GetModelNames","status2","message2","GetModelFieldNames","subscribe","immer","getState","obj","warning","invariant","uniqueId","CALLBACK","Messenger","self","handleMessage","removeEventListener","callbacks","source","callbackName","fn","postMessage","bind","filter","cond","warn","validateText","amount","match","item","search"],"sourceRoot":""}